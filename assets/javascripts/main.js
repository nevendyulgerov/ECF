!function(t,e){"function"==typeof define&&define.amd?define([],function(){return t.Chartist=e()}):"object"==typeof exports?module.exports=e():t.Chartist=e()}(this,function(){var t={version:"0.9.8"};return function(t,e,i){"use strict";i.namespaces={svg:"http://www.w3.org/2000/svg",xmlns:"http://www.w3.org/2000/xmlns/",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",ct:"http://gionkunz.github.com/chartist-js/ct"},i.noop=function(t){return t},i.alphaNumerate=function(t){return String.fromCharCode(97+t%26)},i.extend=function(t){t=t||{};var e=Array.prototype.slice.call(arguments,1);return e.forEach(function(e){for(var n in e)"object"!=typeof e[n]||null===e[n]||e[n]instanceof Array?t[n]=e[n]:t[n]=i.extend({},t[n],e[n])}),t},i.replaceAll=function(t,e,i){return t.replace(new RegExp(e,"g"),i)},i.ensureUnit=function(t,e){return"number"==typeof t&&(t+=e),t},i.quantity=function(t){if("string"==typeof t){var e=/^(\d+)\s*(.*)$/g.exec(t);return{value:+e[1],unit:e[2]||void 0}}return{value:t}},i.querySelector=function(t){return t instanceof Node?t:e.querySelector(t)},i.times=function(t){return Array.apply(null,new Array(t))},i.sum=function(t,e){return t+(e?e:0)},i.mapMultiply=function(t){return function(e){return e*t}},i.mapAdd=function(t){return function(e){return e+t}},i.serialMap=function(t,e){var n=[],o=Math.max.apply(null,t.map(function(t){return t.length}));return i.times(o).forEach(function(i,o){var r=t.map(function(t){return t[o]});n[o]=e.apply(null,r)}),n},i.roundWithPrecision=function(t,e){var n=Math.pow(10,e||i.precision);return Math.round(t*n)/n},i.precision=8,i.escapingMap={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#039;"},i.serialize=function(t){return null===t||void 0===t?t:("number"==typeof t?t=""+t:"object"==typeof t&&(t=JSON.stringify({data:t})),Object.keys(i.escapingMap).reduce(function(t,e){return i.replaceAll(t,e,i.escapingMap[e])},t))},i.deserialize=function(t){if("string"!=typeof t)return t;t=Object.keys(i.escapingMap).reduce(function(t,e){return i.replaceAll(t,i.escapingMap[e],e)},t);try{t=JSON.parse(t),t=void 0!==t.data?t.data:t}catch(t){}return t},i.createSvg=function(t,e,n,o){var r;return e=e||"100%",n=n||"100%",Array.prototype.slice.call(t.querySelectorAll("svg")).filter(function(t){return t.getAttributeNS(i.namespaces.xmlns,"ct")}).forEach(function(e){t.removeChild(e)}),r=new i.Svg("svg").attr({width:e,height:n}).addClass(o).attr({style:"width: "+e+"; height: "+n+";"}),t.appendChild(r._node),r},i.normalizeData=function(t){if(t=t||{series:[],labels:[]},t.series=t.series||[],t.labels=t.labels||[],t.series.length>0&&0===t.labels.length){var e,n=i.getDataArray(t);e=n.every(function(t){return t instanceof Array})?Math.max.apply(null,n.map(function(t){return t.length})):n.length,t.labels=i.times(e).map(function(){return""})}return t},i.reverseData=function(t){t.labels.reverse(),t.series.reverse();for(var e=0;e<t.series.length;e++)"object"==typeof t.series[e]&&void 0!==t.series[e].data?t.series[e].data.reverse():t.series[e]instanceof Array&&t.series[e].reverse()},i.getDataArray=function(t,e,n){function o(t){if(!i.isFalseyButZero(t)){if((t.data||t)instanceof Array)return(t.data||t).map(o);if(t.hasOwnProperty("value"))return o(t.value);if(n){var e={};return"string"==typeof n?e[n]=i.getNumberOrUndefined(t):e.y=i.getNumberOrUndefined(t),e.x=t.hasOwnProperty("x")?i.getNumberOrUndefined(t.x):e.x,e.y=t.hasOwnProperty("y")?i.getNumberOrUndefined(t.y):e.y,e}return i.getNumberOrUndefined(t)}}return(e&&!t.reversed||!e&&t.reversed)&&(i.reverseData(t),t.reversed=!t.reversed),t.series.map(o)},i.normalizePadding=function(t,e){return e=e||0,"number"==typeof t?{top:t,right:t,bottom:t,left:t}:{top:"number"==typeof t.top?t.top:e,right:"number"==typeof t.right?t.right:e,bottom:"number"==typeof t.bottom?t.bottom:e,left:"number"==typeof t.left?t.left:e}},i.getMetaData=function(t,e){var n=t.data?t.data[e]:t[e];return n?i.serialize(n.meta):void 0},i.orderOfMagnitude=function(t){return Math.floor(Math.log(Math.abs(t))/Math.LN10)},i.projectLength=function(t,e,i){return e/i.range*t},i.getAvailableHeight=function(t,e){return Math.max((i.quantity(e.height).value||t.height())-(e.chartPadding.top+e.chartPadding.bottom)-e.axisX.offset,0)},i.getHighLow=function(t,e,n){function o(t){if(void 0!==t)if(t instanceof Array)for(var e=0;e<t.length;e++)o(t[e]);else{var i=n?+t[n]:+t;a&&i>r.high&&(r.high=i),s&&i<r.low&&(r.low=i)}}e=i.extend({},e,n?e["axis"+n.toUpperCase()]:{});var r={high:void 0===e.high?-Number.MAX_VALUE:+e.high,low:void 0===e.low?Number.MAX_VALUE:+e.low},a=void 0===e.high,s=void 0===e.low;return(a||s)&&o(t),(e.referenceValue||0===e.referenceValue)&&(r.high=Math.max(e.referenceValue,r.high),r.low=Math.min(e.referenceValue,r.low)),r.high<=r.low&&(0===r.low?r.high=1:r.low<0?r.high=0:r.high>0?r.low=0:(r.high=1,r.low=0)),r},i.isNum=function(t){return!isNaN(t)&&isFinite(t)},i.isFalseyButZero=function(t){return!t&&0!==t},i.getNumberOrUndefined=function(t){return isNaN(+t)?void 0:+t},i.getMultiValue=function(t,e){return i.isNum(t)?+t:t?t[e||"y"]||0:0},i.rho=function(t){function e(t,i){return t%i===0?i:e(i,t%i)}function i(t){return t*t+1}if(1===t)return t;var n,o=2,r=2;if(t%2===0)return 2;do o=i(o)%t,r=i(i(r))%t,n=e(Math.abs(o-r),t);while(1===n);return n},i.getBounds=function(t,e,n,o){var r,a,s,l=0,c={high:e.high,low:e.low};c.valueRange=c.high-c.low,c.oom=i.orderOfMagnitude(c.valueRange),c.step=Math.pow(10,c.oom),c.min=Math.floor(c.low/c.step)*c.step,c.max=Math.ceil(c.high/c.step)*c.step,c.range=c.max-c.min,c.numberOfSteps=Math.round(c.range/c.step);var u=i.projectLength(t,c.step,c),d=u<n,h=o?i.rho(c.range):0;if(o&&i.projectLength(t,1,c)>=n)c.step=1;else if(o&&h<c.step&&i.projectLength(t,h,c)>=n)c.step=h;else for(;;){if(d&&i.projectLength(t,c.step,c)<=n)c.step*=2;else{if(d||!(i.projectLength(t,c.step/2,c)>=n))break;if(c.step/=2,o&&c.step%1!==0){c.step*=2;break}}if(l++>1e3)throw new Error("Exceeded maximum number of iterations while optimizing scale step!")}var f=2.221e-16;for(c.step=Math.max(c.step,f),a=c.min,s=c.max;a+c.step<=c.low;)a+=c.step;for(;s-c.step>=c.high;)s-=c.step;c.min=a,c.max=s,c.range=c.max-c.min;var p=[];for(r=c.min;r<=c.max;r+=c.step){var m=i.roundWithPrecision(r);m!==p[p.length-1]&&p.push(r)}return c.values=p,c},i.polarToCartesian=function(t,e,i,n){var o=(n-90)*Math.PI/180;return{x:t+i*Math.cos(o),y:e+i*Math.sin(o)}},i.createChartRect=function(t,e,n){var o=!(!e.axisX&&!e.axisY),r=o?e.axisY.offset:0,a=o?e.axisX.offset:0,s=t.width()||i.quantity(e.width).value||0,l=t.height()||i.quantity(e.height).value||0,c=i.normalizePadding(e.chartPadding,n);s=Math.max(s,r+c.left+c.right),l=Math.max(l,a+c.top+c.bottom);var u={padding:c,width:function(){return this.x2-this.x1},height:function(){return this.y1-this.y2}};return o?("start"===e.axisX.position?(u.y2=c.top+a,u.y1=Math.max(l-c.bottom,u.y2+1)):(u.y2=c.top,u.y1=Math.max(l-c.bottom-a,u.y2+1)),"start"===e.axisY.position?(u.x1=c.left+r,u.x2=Math.max(s-c.right,u.x1+1)):(u.x1=c.left,u.x2=Math.max(s-c.right-r,u.x1+1))):(u.x1=c.left,u.x2=Math.max(s-c.right,u.x1+1),u.y2=c.top,u.y1=Math.max(l-c.bottom,u.y2+1)),u},i.createGrid=function(t,e,n,o,r,a,s,l){var c={};c[n.units.pos+"1"]=t,c[n.units.pos+"2"]=t,c[n.counterUnits.pos+"1"]=o,c[n.counterUnits.pos+"2"]=o+r;var u=a.elem("line",c,s.join(" "));l.emit("draw",i.extend({type:"grid",axis:n,index:e,group:a,element:u},c))},i.createLabel=function(t,e,n,o,r,a,s,l,c,u,d){var h,f={};if(f[r.units.pos]=t+s[r.units.pos],f[r.counterUnits.pos]=s[r.counterUnits.pos],f[r.units.len]=e,f[r.counterUnits.len]=Math.max(0,a-10),u){var p='<span class="'+c.join(" ")+'" style="'+r.units.len+": "+Math.round(f[r.units.len])+"px; "+r.counterUnits.len+": "+Math.round(f[r.counterUnits.len])+'px">'+o[n]+"</span>";h=l.foreignObject(p,i.extend({style:"overflow: visible;"},f))}else h=l.elem("text",f,c.join(" ")).text(o[n]);d.emit("draw",i.extend({type:"label",axis:r,index:n,group:l,element:h,text:o[n]},f))},i.getSeriesOption=function(t,e,i){if(t.name&&e.series&&e.series[t.name]){var n=e.series[t.name];return n.hasOwnProperty(i)?n[i]:e[i]}return e[i]},i.optionsProvider=function(e,n,o){function r(e){var r=s;if(s=i.extend({},c),n)for(l=0;l<n.length;l++){var a=t.matchMedia(n[l][0]);a.matches&&(s=i.extend(s,n[l][1]))}o&&e&&o.emit("optionsChanged",{previousOptions:r,currentOptions:s})}function a(){u.forEach(function(t){t.removeListener(r)})}var s,l,c=i.extend({},e),u=[];if(!t.matchMedia)throw"window.matchMedia not found! Make sure you're using a polyfill.";if(n)for(l=0;l<n.length;l++){var d=t.matchMedia(n[l][0]);d.addListener(r),u.push(d)}return r(),{removeMediaQueryListeners:a,getCurrentOptions:function(){return i.extend({},s)}}},i.splitIntoSegments=function(t,e,n){var o={increasingX:!1,fillHoles:!1};n=i.extend({},o,n);for(var r=[],a=!0,s=0;s<t.length;s+=2)void 0===e[s/2].value?n.fillHoles||(a=!0):(n.increasingX&&s>=2&&t[s]<=t[s-2]&&(a=!0),a&&(r.push({pathCoordinates:[],valueData:[]}),a=!1),r[r.length-1].pathCoordinates.push(t[s],t[s+1]),r[r.length-1].valueData.push(e[s/2]));return r}}(window,document,t),function(t,e,i){"use strict";i.Interpolation={},i.Interpolation.none=function(t){var e={fillHoles:!1};return t=i.extend({},e,t),function(e,n){for(var o=new i.Svg.Path,r=!0,a=0;a<e.length;a+=2){var s=e[a],l=e[a+1],c=n[a/2];void 0!==c.value?(r?o.move(s,l,!1,c):o.line(s,l,!1,c),r=!1):t.fillHoles||(r=!0)}return o}},i.Interpolation.simple=function(t){var e={divisor:2,fillHoles:!1};t=i.extend({},e,t);var n=1/Math.max(1,t.divisor);return function(e,o){for(var r,a,s,l=new i.Svg.Path,c=0;c<e.length;c+=2){var u=e[c],d=e[c+1],h=(u-r)*n,f=o[c/2];void 0!==f.value?(void 0===s?l.move(u,d,!1,f):l.curve(r+h,a,u-h,d,u,d,!1,f),r=u,a=d,s=f):t.fillHoles||(r=u=s=void 0)}return l}},i.Interpolation.cardinal=function(t){var e={tension:1,fillHoles:!1};t=i.extend({},e,t);var n=Math.min(1,Math.max(0,t.tension)),o=1-n;return function e(r,a){var s=i.splitIntoSegments(r,a,{fillHoles:t.fillHoles});if(s.length){if(s.length>1){var l=[];return s.forEach(function(t){l.push(e(t.pathCoordinates,t.valueData))}),i.Svg.Path.join(l)}if(r=s[0].pathCoordinates,a=s[0].valueData,r.length<=4)return i.Interpolation.none()(r,a);for(var c,u=(new i.Svg.Path).move(r[0],r[1],!1,a[0]),d=0,h=r.length;h-2*!c>d;d+=2){var f=[{x:+r[d-2],y:+r[d-1]},{x:+r[d],y:+r[d+1]},{x:+r[d+2],y:+r[d+3]},{x:+r[d+4],y:+r[d+5]}];c?d?h-4===d?f[3]={x:+r[0],y:+r[1]}:h-2===d&&(f[2]={x:+r[0],y:+r[1]},f[3]={x:+r[2],y:+r[3]}):f[0]={x:+r[h-2],y:+r[h-1]}:h-4===d?f[3]=f[2]:d||(f[0]={x:+r[d],y:+r[d+1]}),u.curve(n*(-f[0].x+6*f[1].x+f[2].x)/6+o*f[2].x,n*(-f[0].y+6*f[1].y+f[2].y)/6+o*f[2].y,n*(f[1].x+6*f[2].x-f[3].x)/6+o*f[2].x,n*(f[1].y+6*f[2].y-f[3].y)/6+o*f[2].y,f[2].x,f[2].y,!1,a[(d+2)/2])}return u}return i.Interpolation.none()([])}},i.Interpolation.monotoneCubic=function(t){var e={fillHoles:!1};return t=i.extend({},e,t),function e(n,o){var r=i.splitIntoSegments(n,o,{fillHoles:t.fillHoles,increasingX:!0});if(r.length){if(r.length>1){var a=[];return r.forEach(function(t){a.push(e(t.pathCoordinates,t.valueData))}),i.Svg.Path.join(a)}if(n=r[0].pathCoordinates,o=r[0].valueData,n.length<=4)return i.Interpolation.none()(n,o);var s,l,c=[],u=[],d=n.length/2,h=[],f=[],p=[],m=[];for(s=0;s<d;s++)c[s]=n[2*s],u[s]=n[2*s+1];for(s=0;s<d-1;s++)p[s]=u[s+1]-u[s],m[s]=c[s+1]-c[s],f[s]=p[s]/m[s];for(h[0]=f[0],h[d-1]=f[d-2],s=1;s<d-1;s++)0===f[s]||0===f[s-1]||f[s-1]>0!=f[s]>0?h[s]=0:(h[s]=3*(m[s-1]+m[s])/((2*m[s]+m[s-1])/f[s-1]+(m[s]+2*m[s-1])/f[s]),isFinite(h[s])||(h[s]=0));for(l=(new i.Svg.Path).move(c[0],u[0],!1,o[0]),s=0;s<d-1;s++)l.curve(c[s]+m[s]/3,u[s]+h[s]*m[s]/3,c[s+1]-m[s]/3,u[s+1]-h[s+1]*m[s]/3,c[s+1],u[s+1],!1,o[s+1]);return l}return i.Interpolation.none()([])}},i.Interpolation.step=function(t){var e={postpone:!0,fillHoles:!1};return t=i.extend({},e,t),function(e,n){for(var o,r,a,s=new i.Svg.Path,l=0;l<e.length;l+=2){var c=e[l],u=e[l+1],d=n[l/2];void 0!==d.value?(void 0===a?s.move(c,u,!1,d):(t.postpone?s.line(c,r,!1,a):s.line(o,u,!1,d),s.line(c,u,!1,d)),o=c,r=u,a=d):t.fillHoles||(o=r=a=void 0)}return s}}}(window,document,t),function(t,e,i){"use strict";i.EventEmitter=function(){function t(t,e){n[t]=n[t]||[],n[t].push(e)}function e(t,e){n[t]&&(e?(n[t].splice(n[t].indexOf(e),1),0===n[t].length&&delete n[t]):delete n[t])}function i(t,e){n[t]&&n[t].forEach(function(t){t(e)}),n["*"]&&n["*"].forEach(function(i){i(t,e)})}var n=[];return{addEventHandler:t,removeEventHandler:e,emit:i}}}(window,document,t),function(t,e,i){"use strict";function n(t){var e=[];if(t.length)for(var i=0;i<t.length;i++)e.push(t[i]);return e}function o(t,e){var n=e||this.prototype||i.Class,o=Object.create(n);i.Class.cloneDefinitions(o,t);var r=function(){var t,e=o.constructor||function(){};return t=this===i?Object.create(o):this,e.apply(t,Array.prototype.slice.call(arguments,0)),t};return r.prototype=o,r.super=n,r.extend=this.extend,r}function r(){var t=n(arguments),e=t[0];return t.splice(1,t.length-1).forEach(function(t){Object.getOwnPropertyNames(t).forEach(function(i){delete e[i],Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(t,i))})}),e}i.Class={extend:o,cloneDefinitions:r}}(window,document,t),function(t,e,i){"use strict";function n(t,e,n){return t&&(this.data=t,this.eventEmitter.emit("data",{type:"update",data:this.data})),e&&(this.options=i.extend({},n?this.options:this.defaultOptions,e),this.initializeTimeoutId||(this.optionsProvider.removeMediaQueryListeners(),this.optionsProvider=i.optionsProvider(this.options,this.responsiveOptions,this.eventEmitter))),this.initializeTimeoutId||this.createChart(this.optionsProvider.getCurrentOptions()),this}function o(){return this.initializeTimeoutId?t.clearTimeout(this.initializeTimeoutId):(t.removeEventListener("resize",this.resizeListener),this.optionsProvider.removeMediaQueryListeners()),this}function r(t,e){return this.eventEmitter.addEventHandler(t,e),this}function a(t,e){return this.eventEmitter.removeEventHandler(t,e),this}function s(){t.addEventListener("resize",this.resizeListener),this.optionsProvider=i.optionsProvider(this.options,this.responsiveOptions,this.eventEmitter),this.eventEmitter.addEventHandler("optionsChanged",function(){this.update()}.bind(this)),this.options.plugins&&this.options.plugins.forEach(function(t){t instanceof Array?t[0](this,t[1]):t(this)}.bind(this)),this.eventEmitter.emit("data",{type:"initial",data:this.data}),this.createChart(this.optionsProvider.getCurrentOptions()),this.initializeTimeoutId=void 0}function l(t,e,n,o,r){this.container=i.querySelector(t),this.data=e,this.defaultOptions=n,this.options=o,this.responsiveOptions=r,this.eventEmitter=i.EventEmitter(),this.supportsForeignObject=i.Svg.isSupported("Extensibility"),this.supportsAnimations=i.Svg.isSupported("AnimationEventsAttribute"),this.resizeListener=function(){this.update()}.bind(this),this.container&&(this.container.__chartist__&&this.container.__chartist__.detach(),this.container.__chartist__=this),this.initializeTimeoutId=setTimeout(s.bind(this),0)}i.Base=i.Class.extend({constructor:l,optionsProvider:void 0,container:void 0,svg:void 0,eventEmitter:void 0,createChart:function(){throw new Error("Base chart type can't be instantiated!")},update:n,detach:o,on:r,off:a,version:i.version,supportsForeignObject:!1})}(window,document,t),function(t,e,i){"use strict";function n(t,n,o,r,a){t instanceof Element?this._node=t:(this._node=e.createElementNS(i.namespaces.svg,t),"svg"===t&&this.attr({"xmlns:ct":i.namespaces.ct})),n&&this.attr(n),o&&this.addClass(o),r&&(a&&r._node.firstChild?r._node.insertBefore(this._node,r._node.firstChild):r._node.appendChild(this._node))}function o(t,e){return"string"==typeof t?e?this._node.getAttributeNS(e,t):this._node.getAttribute(t):(Object.keys(t).forEach(function(e){if(void 0!==t[e])if(e.indexOf(":")!==-1){var n=e.split(":");this._node.setAttributeNS(i.namespaces[n[0]],e,t[e])}else this._node.setAttribute(e,t[e])}.bind(this)),this)}function r(t,e,n,o){return new i.Svg(t,e,n,this,o)}function a(){return this._node.parentNode instanceof SVGElement?new i.Svg(this._node.parentNode):null}function s(){for(var t=this._node;"svg"!==t.nodeName;)t=t.parentNode;return new i.Svg(t)}function l(t){var e=this._node.querySelector(t);return e?new i.Svg(e):null}function c(t){var e=this._node.querySelectorAll(t);return e.length?new i.Svg.List(e):null}function u(t,n,o,r){if("string"==typeof t){var a=e.createElement("div");a.innerHTML=t,t=a.firstChild}t.setAttribute("xmlns",i.namespaces.xmlns);var s=this.elem("foreignObject",n,o,r);return s._node.appendChild(t),s}function d(t){return this._node.appendChild(e.createTextNode(t)),this}function h(){for(;this._node.firstChild;)this._node.removeChild(this._node.firstChild);return this}function f(){return this._node.parentNode.removeChild(this._node),this.parent()}function p(t){return this._node.parentNode.replaceChild(t._node,this._node),t}function m(t,e){return e&&this._node.firstChild?this._node.insertBefore(t._node,this._node.firstChild):this._node.appendChild(t._node),this}function g(){return this._node.getAttribute("class")?this._node.getAttribute("class").trim().split(/\s+/):[]}function v(t){var e=this.classes(this._node).concat(t.trim().split(/\s+/));return this._node.setAttribute("class",e.filter(function(t,i){return e.indexOf(t)===i}).join(" ")),this}function y(t){var e=t.trim().split(/\s+/);return this._node.setAttribute("class",this.classes(this._node).filter(function(t){return e.indexOf(t)===-1}).join(" ")),this}function b(){return this._node.setAttribute("class",""),this}function x(){return this._node.getBoundingClientRect().height}function w(){return this._node.getBoundingClientRect().width}function S(t,e,n){return void 0===e&&(e=!0),Object.keys(t).forEach(function(o){function r(t,e){var r,a,s,l={};t.easing&&(s=t.easing instanceof Array?t.easing:i.Svg.Easing[t.easing],delete t.easing),t.begin=i.ensureUnit(t.begin,"ms"),t.dur=i.ensureUnit(t.dur,"ms"),s&&(t.calcMode="spline",t.keySplines=s.join(" "),t.keyTimes="0;1"),e&&(t.fill="freeze",l[o]=t.from,this.attr(l),a=i.quantity(t.begin||0).value,t.begin="indefinite"),r=this.elem("animate",i.extend({attributeName:o},t)),e&&setTimeout(function(){try{r._node.beginElement()}catch(e){l[o]=t.to,this.attr(l),r.remove()}}.bind(this),a),n&&r._node.addEventListener("beginEvent",function(){n.emit("animationBegin",{element:this,animate:r._node,params:t})}.bind(this)),r._node.addEventListener("endEvent",function(){n&&n.emit("animationEnd",{element:this,animate:r._node,params:t}),e&&(l[o]=t.to,this.attr(l),r.remove())}.bind(this))}t[o]instanceof Array?t[o].forEach(function(t){r.bind(this)(t,!1)}.bind(this)):r.bind(this)(t[o],e)}.bind(this)),this}function C(t){var e=this;this.svgElements=[];for(var n=0;n<t.length;n++)this.svgElements.push(new i.Svg(t[n]));Object.keys(i.Svg.prototype).filter(function(t){return["constructor","parent","querySelector","querySelectorAll","replace","append","classes","height","width"].indexOf(t)===-1}).forEach(function(t){e[t]=function(){var n=Array.prototype.slice.call(arguments,0);return e.svgElements.forEach(function(e){i.Svg.prototype[t].apply(e,n)}),e}})}i.Svg=i.Class.extend({constructor:n,attr:o,elem:r,parent:a,root:s,querySelector:l,querySelectorAll:c,foreignObject:u,text:d,empty:h,remove:f,replace:p,append:m,classes:g,addClass:v,removeClass:y,removeAllClasses:b,height:x,width:w,animate:S}),i.Svg.isSupported=function(t){return e.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#"+t,"1.1")};var I={easeInSine:[.47,0,.745,.715],easeOutSine:[.39,.575,.565,1],easeInOutSine:[.445,.05,.55,.95],easeInQuad:[.55,.085,.68,.53],easeOutQuad:[.25,.46,.45,.94],easeInOutQuad:[.455,.03,.515,.955],easeInCubic:[.55,.055,.675,.19],easeOutCubic:[.215,.61,.355,1],easeInOutCubic:[.645,.045,.355,1],easeInQuart:[.895,.03,.685,.22],easeOutQuart:[.165,.84,.44,1],easeInOutQuart:[.77,0,.175,1],easeInQuint:[.755,.05,.855,.06],easeOutQuint:[.23,1,.32,1],easeInOutQuint:[.86,0,.07,1],easeInExpo:[.95,.05,.795,.035],easeOutExpo:[.19,1,.22,1],easeInOutExpo:[1,0,0,1],easeInCirc:[.6,.04,.98,.335],easeOutCirc:[.075,.82,.165,1],easeInOutCirc:[.785,.135,.15,.86],easeInBack:[.6,-.28,.735,.045],easeOutBack:[.175,.885,.32,1.275],easeInOutBack:[.68,-.55,.265,1.55]};i.Svg.Easing=I,i.Svg.List=i.Class.extend({constructor:C})}(window,document,t),function(t,e,i){"use strict";function n(t,e,n,o,r,a){var s=i.extend({command:r?t.toLowerCase():t.toUpperCase()},e,a?{data:a}:{});n.splice(o,0,s)}function o(t,e){t.forEach(function(i,n){x[i.command.toLowerCase()].forEach(function(o,r){e(i,o,n,r,t)})})}function r(t,e){this.pathElements=[],this.pos=0,this.close=t,this.options=i.extend({},w,e)}function a(t){return void 0!==t?(this.pos=Math.max(0,Math.min(this.pathElements.length,t)),this):this.pos}function s(t){return this.pathElements.splice(this.pos,t),this}function l(t,e,i,o){return n("M",{x:+t,y:+e},this.pathElements,this.pos++,i,o),this}function c(t,e,i,o){return n("L",{x:+t,y:+e},this.pathElements,this.pos++,i,o),this}function u(t,e,i,o,r,a,s,l){return n("C",{x1:+t,y1:+e,x2:+i,y2:+o,x:+r,y:+a},this.pathElements,this.pos++,s,l),this}function d(t,e,i,o,r,a,s,l,c){return n("A",{rx:+t,ry:+e,xAr:+i,lAf:+o,sf:+r,x:+a,y:+s},this.pathElements,this.pos++,l,c),this}function h(t){var e=t.replace(/([A-Za-z])([0-9])/g,"$1 $2").replace(/([0-9])([A-Za-z])/g,"$1 $2").split(/[\s,]+/).reduce(function(t,e){return e.match(/[A-Za-z]/)&&t.push([]),t[t.length-1].push(e),t},[]);"Z"===e[e.length-1][0].toUpperCase()&&e.pop();var n=e.map(function(t){var e=t.shift(),n=x[e.toLowerCase()];return i.extend({command:e},n.reduce(function(e,i,n){return e[i]=+t[n],e},{}))}),o=[this.pos,0];return Array.prototype.push.apply(o,n),Array.prototype.splice.apply(this.pathElements,o),this.pos+=n.length,this}function f(){var t=Math.pow(10,this.options.accuracy);return this.pathElements.reduce(function(e,i){var n=x[i.command.toLowerCase()].map(function(e){return this.options.accuracy?Math.round(i[e]*t)/t:i[e]}.bind(this));return e+i.command+n.join(",")}.bind(this),"")+(this.close?"Z":"")}function p(t,e){return o(this.pathElements,function(i,n){i[n]*="x"===n[0]?t:e}),this}function m(t,e){return o(this.pathElements,function(i,n){i[n]+="x"===n[0]?t:e}),this}function g(t){return o(this.pathElements,function(e,i,n,o,r){var a=t(e,i,n,o,r);(a||0===a)&&(e[i]=a)}),this}function v(t){var e=new i.Svg.Path(t||this.close);return e.pos=this.pos,e.pathElements=this.pathElements.slice().map(function(t){return i.extend({},t)}),e.options=i.extend({},this.options),e}function y(t){var e=[new i.Svg.Path];return this.pathElements.forEach(function(n){n.command===t.toUpperCase()&&0!==e[e.length-1].pathElements.length&&e.push(new i.Svg.Path),e[e.length-1].pathElements.push(n)}),e}function b(t,e,n){for(var o=new i.Svg.Path(e,n),r=0;r<t.length;r++)for(var a=t[r],s=0;s<a.pathElements.length;s++)o.pathElements.push(a.pathElements[s]);return o}var x={m:["x","y"],l:["x","y"],c:["x1","y1","x2","y2","x","y"],a:["rx","ry","xAr","lAf","sf","x","y"]},w={accuracy:3};i.Svg.Path=i.Class.extend({constructor:r,position:a,remove:s,move:l,line:c,curve:u,arc:d,scale:p,translate:m,transform:g,parse:h,stringify:f,clone:v,splitByCommand:y}),i.Svg.Path.elementDescriptions=x,i.Svg.Path.join=b}(window,document,t),function(t,e,i){"use strict";function n(t,e,i,n){this.units=t,this.counterUnits=t===r.x?r.y:r.x,this.chartRect=e,this.axisLength=e[t.rectEnd]-e[t.rectStart],this.gridOffset=e[t.rectOffset],this.ticks=i,this.options=n}function o(t,e,n,o,r){var a=o["axis"+this.units.pos.toUpperCase()],s=this.ticks.map(this.projectValue.bind(this)),l=this.ticks.map(a.labelInterpolationFnc);s.forEach(function(c,u){var d,h={x:0,y:0};d=s[u+1]?s[u+1]-c:Math.max(this.axisLength-c,30),i.isFalseyButZero(l[u])&&""!==l[u]||("x"===this.units.pos?(c=this.chartRect.x1+c,h.x=o.axisX.labelOffset.x,"start"===o.axisX.position?h.y=this.chartRect.padding.top+o.axisX.labelOffset.y+(n?5:20):h.y=this.chartRect.y1+o.axisX.labelOffset.y+(n?5:20)):(c=this.chartRect.y1-c,h.y=o.axisY.labelOffset.y-(n?d:0),"start"===o.axisY.position?h.x=n?this.chartRect.padding.left+o.axisY.labelOffset.x:this.chartRect.x1-10:h.x=this.chartRect.x2+o.axisY.labelOffset.x+10),a.showGrid&&i.createGrid(c,u,this,this.gridOffset,this.chartRect[this.counterUnits.len](),t,[o.classNames.grid,o.classNames[this.units.dir]],r),a.showLabel&&i.createLabel(c,d,u,l,this,a.offset,h,e,[o.classNames.label,o.classNames[this.units.dir],o.classNames[a.position]],n,r))}.bind(this))}var r={x:{pos:"x",len:"width",dir:"horizontal",rectStart:"x1",rectEnd:"x2",rectOffset:"y2"},y:{pos:"y",len:"height",dir:"vertical",rectStart:"y2",rectEnd:"y1",rectOffset:"x1"}};i.Axis=i.Class.extend({constructor:n,createGridAndLabels:o,projectValue:function(t,e,i){throw new Error("Base axis can't be instantiated!")}}),i.Axis.units=r}(window,document,t),function(t,e,i){"use strict";function n(t,e,n,o){var r=o.highLow||i.getHighLow(e.normalized,o,t.pos);this.bounds=i.getBounds(n[t.rectEnd]-n[t.rectStart],r,o.scaleMinSpace||20,o.onlyInteger),this.range={min:this.bounds.min,max:this.bounds.max},i.AutoScaleAxis.super.constructor.call(this,t,n,this.bounds.values,o)}function o(t){return this.axisLength*(+i.getMultiValue(t,this.units.pos)-this.bounds.min)/this.bounds.range}i.AutoScaleAxis=i.Axis.extend({constructor:n,projectValue:o})}(window,document,t),function(t,e,i){"use strict";function n(t,e,n,o){var r=o.highLow||i.getHighLow(e.normalized,o,t.pos);this.divisor=o.divisor||1,this.ticks=o.ticks||i.times(this.divisor).map(function(t,e){return r.low+(r.high-r.low)/this.divisor*e}.bind(this)),this.ticks.sort(function(t,e){return t-e}),this.range={min:r.low,max:r.high},i.FixedScaleAxis.super.constructor.call(this,t,n,this.ticks,o),this.stepLength=this.axisLength/this.divisor}function o(t){return this.axisLength*(+i.getMultiValue(t,this.units.pos)-this.range.min)/(this.range.max-this.range.min)}i.FixedScaleAxis=i.Axis.extend({constructor:n,projectValue:o})}(window,document,t),function(t,e,i){"use strict";function n(t,e,n,o){i.StepAxis.super.constructor.call(this,t,n,o.ticks,o),this.stepLength=this.axisLength/(o.ticks.length-(o.stretch?1:0))}function o(t,e){return this.stepLength*e}i.StepAxis=i.Axis.extend({constructor:n,projectValue:o})}(window,document,t),function(t,e,i){"use strict";function n(t){this.data=i.normalizeData(this.data);var e={raw:this.data,normalized:i.getDataArray(this.data,t.reverseData,!0)};this.svg=i.createSvg(this.container,t.width,t.height,t.classNames.chart);var n,o,a=this.svg.elem("g").addClass(t.classNames.gridGroup),s=this.svg.elem("g"),l=this.svg.elem("g").addClass(t.classNames.labelGroup),c=i.createChartRect(this.svg,t,r.padding);n=void 0===t.axisX.type?new i.StepAxis(i.Axis.units.x,e,c,i.extend({},t.axisX,{ticks:e.raw.labels,stretch:t.fullWidth})):t.axisX.type.call(i,i.Axis.units.x,e,c,t.axisX),o=void 0===t.axisY.type?new i.AutoScaleAxis(i.Axis.units.y,e,c,i.extend({},t.axisY,{high:i.isNum(t.high)?t.high:t.axisY.high,low:i.isNum(t.low)?t.low:t.axisY.low})):t.axisY.type.call(i,i.Axis.units.y,e,c,t.axisY),n.createGridAndLabels(a,l,this.supportsForeignObject,t,this.eventEmitter),o.createGridAndLabels(a,l,this.supportsForeignObject,t,this.eventEmitter),e.raw.series.forEach(function(r,a){var l=s.elem("g");l.attr({"ct:series-name":r.name,"ct:meta":i.serialize(r.meta)}),l.addClass([t.classNames.series,r.className||t.classNames.series+"-"+i.alphaNumerate(a)].join(" "));var u=[],d=[];e.normalized[a].forEach(function(t,s){var l={x:c.x1+n.projectValue(t,s,e.normalized[a]),y:c.y1-o.projectValue(t,s,e.normalized[a])};u.push(l.x,l.y),d.push({value:t,valueIndex:s,meta:i.getMetaData(r,s)})}.bind(this));var h={lineSmooth:i.getSeriesOption(r,t,"lineSmooth"),showPoint:i.getSeriesOption(r,t,"showPoint"),showLine:i.getSeriesOption(r,t,"showLine"),showArea:i.getSeriesOption(r,t,"showArea"),areaBase:i.getSeriesOption(r,t,"areaBase")},f="function"==typeof h.lineSmooth?h.lineSmooth:h.lineSmooth?i.Interpolation.monotoneCubic():i.Interpolation.none(),p=f(u,d);if(h.showPoint&&p.pathElements.forEach(function(e){var s=l.elem("line",{x1:e.x,y1:e.y,x2:e.x+.01,y2:e.y},t.classNames.point).attr({"ct:value":[e.data.value.x,e.data.value.y].filter(i.isNum).join(","),"ct:meta":e.data.meta});this.eventEmitter.emit("draw",{type:"point",value:e.data.value,index:e.data.valueIndex,meta:e.data.meta,series:r,seriesIndex:a,axisX:n,axisY:o,group:l,element:s,x:e.x,y:e.y})}.bind(this)),h.showLine){var m=l.elem("path",{d:p.stringify()},t.classNames.line,!0);this.eventEmitter.emit("draw",{type:"line",values:e.normalized[a],path:p.clone(),chartRect:c,index:a,series:r,seriesIndex:a,axisX:n,axisY:o,group:l,element:m})}if(h.showArea&&o.range){var g=Math.max(Math.min(h.areaBase,o.range.max),o.range.min),v=c.y1-o.projectValue(g);p.splitByCommand("M").filter(function(t){return t.pathElements.length>1}).map(function(t){var e=t.pathElements[0],i=t.pathElements[t.pathElements.length-1];return t.clone(!0).position(0).remove(1).move(e.x,v).line(e.x,e.y).position(t.pathElements.length+1).line(i.x,v)}).forEach(function(i){var s=l.elem("path",{d:i.stringify()},t.classNames.area,!0);this.eventEmitter.emit("draw",{type:"area",values:e.normalized[a],path:i.clone(),series:r,seriesIndex:a,axisX:n,axisY:o,chartRect:c,index:a,group:l,element:s})}.bind(this))}}.bind(this)),this.eventEmitter.emit("created",{bounds:o.bounds,chartRect:c,axisX:n,axisY:o,svg:this.svg,options:t})}function o(t,e,n,o){i.Line.super.constructor.call(this,t,e,r,i.extend({},r,n),o)}var r={axisX:{offset:30,position:"end",labelOffset:{x:0,y:0},showLabel:!0,showGrid:!0,labelInterpolationFnc:i.noop,type:void 0},axisY:{offset:40,position:"start",labelOffset:{x:0,y:0},showLabel:!0,showGrid:!0,labelInterpolationFnc:i.noop,type:void 0,scaleMinSpace:20,onlyInteger:!1},width:void 0,height:void 0,showLine:!0,showPoint:!0,showArea:!1,areaBase:0,lineSmooth:!0,low:void 0,high:void 0,chartPadding:{top:15,right:15,bottom:5,left:10},fullWidth:!1,reverseData:!1,classNames:{chart:"ct-chart-line",label:"ct-label",labelGroup:"ct-labels",series:"ct-series",line:"ct-line",point:"ct-point",area:"ct-area",grid:"ct-grid",gridGroup:"ct-grids",vertical:"ct-vertical",horizontal:"ct-horizontal",start:"ct-start",end:"ct-end"}};i.Line=i.Base.extend({constructor:o,createChart:n})}(window,document,t),function(t,e,i){"use strict";function n(t){this.data=i.normalizeData(this.data);var e,n={raw:this.data,normalized:t.distributeSeries?i.getDataArray(this.data,t.reverseData,t.horizontalBars?"x":"y").map(function(t){return[t]}):i.getDataArray(this.data,t.reverseData,t.horizontalBars?"x":"y")};this.svg=i.createSvg(this.container,t.width,t.height,t.classNames.chart+(t.horizontalBars?" "+t.classNames.horizontalBars:""));var o=this.svg.elem("g").addClass(t.classNames.gridGroup),a=this.svg.elem("g"),s=this.svg.elem("g").addClass(t.classNames.labelGroup);if(t.stackBars&&0!==n.normalized.length){var l=i.serialMap(n.normalized,function(){return Array.prototype.slice.call(arguments).map(function(t){return t}).reduce(function(t,e){return{x:t.x+(e&&e.x)||0,y:t.y+(e&&e.y)||0}},{x:0,y:0})});e=i.getHighLow([l],i.extend({},t,{referenceValue:0}),t.horizontalBars?"x":"y")}else e=i.getHighLow(n.normalized,i.extend({},t,{referenceValue:0}),t.horizontalBars?"x":"y");e.high=+t.high||(0===t.high?0:e.high),e.low=+t.low||(0===t.low?0:e.low);var c,u,d,h,f,p=i.createChartRect(this.svg,t,r.padding);u=t.distributeSeries&&t.stackBars?n.raw.labels.slice(0,1):n.raw.labels,t.horizontalBars?(c=h=void 0===t.axisX.type?new i.AutoScaleAxis(i.Axis.units.x,n,p,i.extend({},t.axisX,{highLow:e,referenceValue:0})):t.axisX.type.call(i,i.Axis.units.x,n,p,i.extend({},t.axisX,{highLow:e,referenceValue:0})),d=f=void 0===t.axisY.type?new i.StepAxis(i.Axis.units.y,n,p,{ticks:u}):t.axisY.type.call(i,i.Axis.units.y,n,p,t.axisY)):(d=h=void 0===t.axisX.type?new i.StepAxis(i.Axis.units.x,n,p,{ticks:u}):t.axisX.type.call(i,i.Axis.units.x,n,p,t.axisX),c=f=void 0===t.axisY.type?new i.AutoScaleAxis(i.Axis.units.y,n,p,i.extend({},t.axisY,{highLow:e,referenceValue:0})):t.axisY.type.call(i,i.Axis.units.y,n,p,i.extend({},t.axisY,{highLow:e,referenceValue:0})));var m=t.horizontalBars?p.x1+c.projectValue(0):p.y1-c.projectValue(0),g=[];
d.createGridAndLabels(o,s,this.supportsForeignObject,t,this.eventEmitter),c.createGridAndLabels(o,s,this.supportsForeignObject,t,this.eventEmitter),n.raw.series.forEach(function(e,o){var r,s,l=o-(n.raw.series.length-1)/2;r=t.distributeSeries&&!t.stackBars?d.axisLength/n.normalized.length/2:t.distributeSeries&&t.stackBars?d.axisLength/2:d.axisLength/n.normalized[o].length/2,s=a.elem("g"),s.attr({"ct:series-name":e.name,"ct:meta":i.serialize(e.meta)}),s.addClass([t.classNames.series,e.className||t.classNames.series+"-"+i.alphaNumerate(o)].join(" ")),n.normalized[o].forEach(function(a,u){var v,y,b,x;if(x=t.distributeSeries&&!t.stackBars?o:t.distributeSeries&&t.stackBars?0:u,v=t.horizontalBars?{x:p.x1+c.projectValue(a&&a.x?a.x:0,u,n.normalized[o]),y:p.y1-d.projectValue(a&&a.y?a.y:0,x,n.normalized[o])}:{x:p.x1+d.projectValue(a&&a.x?a.x:0,x,n.normalized[o]),y:p.y1-c.projectValue(a&&a.y?a.y:0,u,n.normalized[o])},d instanceof i.StepAxis&&(d.options.stretch||(v[d.units.pos]+=r*(t.horizontalBars?-1:1)),v[d.units.pos]+=t.stackBars||t.distributeSeries?0:l*t.seriesBarDistance*(t.horizontalBars?-1:1)),b=g[u]||m,g[u]=b-(m-v[d.counterUnits.pos]),void 0!==a){var w={};w[d.units.pos+"1"]=v[d.units.pos],w[d.units.pos+"2"]=v[d.units.pos],!t.stackBars||"accumulate"!==t.stackMode&&t.stackMode?(w[d.counterUnits.pos+"1"]=m,w[d.counterUnits.pos+"2"]=v[d.counterUnits.pos]):(w[d.counterUnits.pos+"1"]=b,w[d.counterUnits.pos+"2"]=g[u]),w.x1=Math.min(Math.max(w.x1,p.x1),p.x2),w.x2=Math.min(Math.max(w.x2,p.x1),p.x2),w.y1=Math.min(Math.max(w.y1,p.y2),p.y1),w.y2=Math.min(Math.max(w.y2,p.y2),p.y1),y=s.elem("line",w,t.classNames.bar).attr({"ct:value":[a.x,a.y].filter(i.isNum).join(","),"ct:meta":i.getMetaData(e,u)}),this.eventEmitter.emit("draw",i.extend({type:"bar",value:a,index:u,meta:i.getMetaData(e,u),series:e,seriesIndex:o,axisX:h,axisY:f,chartRect:p,group:s,element:y},w))}}.bind(this))}.bind(this)),this.eventEmitter.emit("created",{bounds:c.bounds,chartRect:p,axisX:h,axisY:f,svg:this.svg,options:t})}function o(t,e,n,o){i.Bar.super.constructor.call(this,t,e,r,i.extend({},r,n),o)}var r={axisX:{offset:30,position:"end",labelOffset:{x:0,y:0},showLabel:!0,showGrid:!0,labelInterpolationFnc:i.noop,scaleMinSpace:30,onlyInteger:!1},axisY:{offset:40,position:"start",labelOffset:{x:0,y:0},showLabel:!0,showGrid:!0,labelInterpolationFnc:i.noop,scaleMinSpace:20,onlyInteger:!1},width:void 0,height:void 0,high:void 0,low:void 0,chartPadding:{top:15,right:15,bottom:5,left:10},seriesBarDistance:15,stackBars:!1,stackMode:"accumulate",horizontalBars:!1,distributeSeries:!1,reverseData:!1,classNames:{chart:"ct-chart-bar",horizontalBars:"ct-horizontal-bars",label:"ct-label",labelGroup:"ct-labels",series:"ct-series",bar:"ct-bar",grid:"ct-grid",gridGroup:"ct-grids",vertical:"ct-vertical",horizontal:"ct-horizontal",start:"ct-start",end:"ct-end"}};i.Bar=i.Base.extend({constructor:o,createChart:n})}(window,document,t),function(t,e,i){"use strict";function n(t,e,i){var n=e.x>t.x;return n&&"explode"===i||!n&&"implode"===i?"start":n&&"implode"===i||!n&&"explode"===i?"end":"middle"}function o(t){this.data=i.normalizeData(this.data);var e,o,r,s,l,c=[],u=t.startAngle,d=i.getDataArray(this.data,t.reverseData);this.svg=i.createSvg(this.container,t.width,t.height,t.donut?t.classNames.chartDonut:t.classNames.chartPie),o=i.createChartRect(this.svg,t,a.padding),r=Math.min(o.width()/2,o.height()/2),l=t.total||d.reduce(function(t,e){return t+e},0);var h=i.quantity(t.donutWidth);"%"===h.unit&&(h.value*=r/100),r-=t.donut?h.value/2:0,s="outside"===t.labelPosition||t.donut?r:"center"===t.labelPosition?0:r/2,s+=t.labelOffset;var f={x:o.x1+o.width()/2,y:o.y2+o.height()/2},p=1===this.data.series.filter(function(t){return t.hasOwnProperty("value")?0!==t.value:0!==t}).length;t.showLabel&&(e=this.svg.elem("g",null,null,!0));for(var m=0;m<this.data.series.length;m++)if(0!==d[m]||!t.ignoreEmptyValues){var g=this.data.series[m];c[m]=this.svg.elem("g",null,null,!0),c[m].attr({"ct:series-name":g.name}),c[m].addClass([t.classNames.series,g.className||t.classNames.series+"-"+i.alphaNumerate(m)].join(" "));var v=u+d[m]/l*360,y=Math.max(0,u-(0===m||p?0:.2));v-y>=359.99&&(v=y+359.99);var b=i.polarToCartesian(f.x,f.y,r,y),x=i.polarToCartesian(f.x,f.y,r,v),w=new i.Svg.Path(!t.donut).move(x.x,x.y).arc(r,r,0,v-u>180,0,b.x,b.y);t.donut||w.line(f.x,f.y);var S=c[m].elem("path",{d:w.stringify()},t.donut?t.classNames.sliceDonut:t.classNames.slicePie);if(S.attr({"ct:value":d[m],"ct:meta":i.serialize(g.meta)}),t.donut&&S.attr({style:"stroke-width: "+h.value+"px"}),this.eventEmitter.emit("draw",{type:"slice",value:d[m],totalDataSum:l,index:m,meta:g.meta,series:g,group:c[m],element:S,path:w.clone(),center:f,radius:r,startAngle:u,endAngle:v}),t.showLabel){var C=i.polarToCartesian(f.x,f.y,s,u+(v-u)/2),I=t.labelInterpolationFnc(this.data.labels&&!i.isFalseyButZero(this.data.labels[m])?this.data.labels[m]:d[m],m);if(I||0===I){var _=e.elem("text",{dx:C.x,dy:C.y,"text-anchor":n(f,C,t.labelDirection)},t.classNames.label).text(""+I);this.eventEmitter.emit("draw",{type:"label",index:m,group:e,element:_,text:""+I,x:C.x,y:C.y})}}u=v}this.eventEmitter.emit("created",{chartRect:o,svg:this.svg,options:t})}function r(t,e,n,o){i.Pie.super.constructor.call(this,t,e,a,i.extend({},a,n),o)}var a={width:void 0,height:void 0,chartPadding:5,classNames:{chartPie:"ct-chart-pie",chartDonut:"ct-chart-donut",series:"ct-series",slicePie:"ct-slice-pie",sliceDonut:"ct-slice-donut",label:"ct-label"},startAngle:0,total:void 0,donut:!1,donutWidth:60,showLabel:!0,labelOffset:0,labelPosition:"inside",labelInterpolationFnc:i.noop,labelDirection:"neutral",reverseData:!1,ignoreEmptyValues:!1};i.Pie=i.Base.extend({constructor:r,createChart:o,determineAnchorPosition:n})}(window,document,t),t}),function(t,e){"use strict";"function"==typeof define&&define.amd?define("jquery-bridget/jquery-bridget",["jquery"],function(i){e(t,i)}):"object"==typeof module&&module.exports?module.exports=e(t,require("jquery")):t.jQueryBridget=e(t,t.jQuery)}(window,function(t,e){"use strict";function i(i,r,s){function l(t,e,n){var o,r="$()."+i+'("'+e+'")';return t.each(function(t,l){var c=s.data(l,i);if(!c)return void a(i+" not initialized. Cannot call methods, i.e. "+r);var u=c[e];if(!u||"_"==e.charAt(0))return void a(r+" is not a valid method");var d=u.apply(c,n);o=void 0===o?d:o}),void 0!==o?o:t}function c(t,e){t.each(function(t,n){var o=s.data(n,i);o?(o.option(e),o._init()):(o=new r(n,e),s.data(n,i,o))})}s=s||e||t.jQuery,s&&(r.prototype.option||(r.prototype.option=function(t){s.isPlainObject(t)&&(this.options=s.extend(!0,this.options,t))}),s.fn[i]=function(t){if("string"==typeof t){var e=o.call(arguments,1);return l(this,t,e)}return c(this,t),this},n(s))}function n(t){!t||t&&t.bridget||(t.bridget=i)}var o=Array.prototype.slice,r=t.console,a="undefined"==typeof r?function(){}:function(t){r.error(t)};return n(e||t.jQuery),i}),function(t,e){"function"==typeof define&&define.amd?define("ev-emitter/ev-emitter",e):"object"==typeof module&&module.exports?module.exports=e():t.EvEmitter=e()}("undefined"!=typeof window?window:this,function(){function t(){}var e=t.prototype;return e.on=function(t,e){if(t&&e){var i=this._events=this._events||{},n=i[t]=i[t]||[];return n.indexOf(e)==-1&&n.push(e),this}},e.once=function(t,e){if(t&&e){this.on(t,e);var i=this._onceEvents=this._onceEvents||{},n=i[t]=i[t]||{};return n[e]=!0,this}},e.off=function(t,e){var i=this._events&&this._events[t];if(i&&i.length){var n=i.indexOf(e);return n!=-1&&i.splice(n,1),this}},e.emitEvent=function(t,e){var i=this._events&&this._events[t];if(i&&i.length){var n=0,o=i[n];e=e||[];for(var r=this._onceEvents&&this._onceEvents[t];o;){var a=r&&r[o];a&&(this.off(t,o),delete r[o]),o.apply(this,e),n+=a?0:1,o=i[n]}return this}},t}),function(t,e){"use strict";"function"==typeof define&&define.amd?define("get-size/get-size",[],function(){return e()}):"object"==typeof module&&module.exports?module.exports=e():t.getSize=e()}(window,function(){"use strict";function t(t){var e=parseFloat(t),i=t.indexOf("%")==-1&&!isNaN(e);return i&&e}function e(){}function i(){for(var t={width:0,height:0,innerWidth:0,innerHeight:0,outerWidth:0,outerHeight:0},e=0;e<c;e++){var i=l[e];t[i]=0}return t}function n(t){var e=getComputedStyle(t);return e||s("Style returned "+e+". Are you running this code in a hidden iframe on Firefox? See http://bit.ly/getsizebug1"),e}function o(){if(!u){u=!0;var e=document.createElement("div");e.style.width="200px",e.style.padding="1px 2px 3px 4px",e.style.borderStyle="solid",e.style.borderWidth="1px 2px 3px 4px",e.style.boxSizing="border-box";var i=document.body||document.documentElement;i.appendChild(e);var o=n(e);r.isBoxSizeOuter=a=200==t(o.width),i.removeChild(e)}}function r(e){if(o(),"string"==typeof e&&(e=document.querySelector(e)),e&&"object"==typeof e&&e.nodeType){var r=n(e);if("none"==r.display)return i();var s={};s.width=e.offsetWidth,s.height=e.offsetHeight;for(var u=s.isBorderBox="border-box"==r.boxSizing,d=0;d<c;d++){var h=l[d],f=r[h],p=parseFloat(f);s[h]=isNaN(p)?0:p}var m=s.paddingLeft+s.paddingRight,g=s.paddingTop+s.paddingBottom,v=s.marginLeft+s.marginRight,y=s.marginTop+s.marginBottom,b=s.borderLeftWidth+s.borderRightWidth,x=s.borderTopWidth+s.borderBottomWidth,w=u&&a,S=t(r.width);S!==!1&&(s.width=S+(w?0:m+b));var C=t(r.height);return C!==!1&&(s.height=C+(w?0:g+x)),s.innerWidth=s.width-(m+b),s.innerHeight=s.height-(g+x),s.outerWidth=s.width+v,s.outerHeight=s.height+y,s}}var a,s="undefined"==typeof console?e:function(t){console.error(t)},l=["paddingLeft","paddingRight","paddingTop","paddingBottom","marginLeft","marginRight","marginTop","marginBottom","borderLeftWidth","borderRightWidth","borderTopWidth","borderBottomWidth"],c=l.length,u=!1;return r}),function(t,e){"use strict";"function"==typeof define&&define.amd?define("desandro-matches-selector/matches-selector",e):"object"==typeof module&&module.exports?module.exports=e():t.matchesSelector=e()}(window,function(){"use strict";var t=function(){var t=Element.prototype;if(t.matches)return"matches";if(t.matchesSelector)return"matchesSelector";for(var e=["webkit","moz","ms","o"],i=0;i<e.length;i++){var n=e[i],o=n+"MatchesSelector";if(t[o])return o}}();return function(e,i){return e[t](i)}}),function(t,e){"function"==typeof define&&define.amd?define("fizzy-ui-utils/utils",["desandro-matches-selector/matches-selector"],function(i){return e(t,i)}):"object"==typeof module&&module.exports?module.exports=e(t,require("desandro-matches-selector")):t.fizzyUIUtils=e(t,t.matchesSelector)}(window,function(t,e){var i={};i.extend=function(t,e){for(var i in e)t[i]=e[i];return t},i.modulo=function(t,e){return(t%e+e)%e},i.makeArray=function(t){var e=[];if(Array.isArray(t))e=t;else if(t&&"number"==typeof t.length)for(var i=0;i<t.length;i++)e.push(t[i]);else e.push(t);return e},i.removeFrom=function(t,e){var i=t.indexOf(e);i!=-1&&t.splice(i,1)},i.getParent=function(t,i){for(;t!=document.body;)if(t=t.parentNode,e(t,i))return t},i.getQueryElement=function(t){return"string"==typeof t?document.querySelector(t):t},i.handleEvent=function(t){var e="on"+t.type;this[e]&&this[e](t)},i.filterFindElements=function(t,n){t=i.makeArray(t);var o=[];return t.forEach(function(t){if(t instanceof HTMLElement){if(!n)return void o.push(t);e(t,n)&&o.push(t);for(var i=t.querySelectorAll(n),r=0;r<i.length;r++)o.push(i[r])}}),o},i.debounceMethod=function(t,e,i){var n=t.prototype[e],o=e+"Timeout";t.prototype[e]=function(){var t=this[o];t&&clearTimeout(t);var e=arguments,r=this;this[o]=setTimeout(function(){n.apply(r,e),delete r[o]},i||100)}},i.docReady=function(t){var e=document.readyState;"complete"==e||"interactive"==e?t():document.addEventListener("DOMContentLoaded",t)},i.toDashed=function(t){return t.replace(/(.)([A-Z])/g,function(t,e,i){return e+"-"+i}).toLowerCase()};var n=t.console;return i.htmlInit=function(e,o){i.docReady(function(){var r=i.toDashed(o),a="data-"+r,s=document.querySelectorAll("["+a+"]"),l=document.querySelectorAll(".js-"+r),c=i.makeArray(s).concat(i.makeArray(l)),u=a+"-options",d=t.jQuery;c.forEach(function(t){var i,r=t.getAttribute(a)||t.getAttribute(u);try{i=r&&JSON.parse(r)}catch(e){return void(n&&n.error("Error parsing "+a+" on "+t.className+": "+e))}var s=new e(t,i);d&&d.data(t,o,s)})})},i}),function(t,e){"function"==typeof define&&define.amd?define("outlayer/item",["ev-emitter/ev-emitter","get-size/get-size"],e):"object"==typeof module&&module.exports?module.exports=e(require("ev-emitter"),require("get-size")):(t.Outlayer={},t.Outlayer.Item=e(t.EvEmitter,t.getSize))}(window,function(t,e){"use strict";function i(t){for(var e in t)return!1;return e=null,!0}function n(t,e){t&&(this.element=t,this.layout=e,this.position={x:0,y:0},this._create())}function o(t){return t.replace(/([A-Z])/g,function(t){return"-"+t.toLowerCase()})}var r=document.documentElement.style,a="string"==typeof r.transition?"transition":"WebkitTransition",s="string"==typeof r.transform?"transform":"WebkitTransform",l={WebkitTransition:"webkitTransitionEnd",transition:"transitionend"}[a],c={transform:s,transition:a,transitionDuration:a+"Duration",transitionProperty:a+"Property",transitionDelay:a+"Delay"},u=n.prototype=Object.create(t.prototype);u.constructor=n,u._create=function(){this._transn={ingProperties:{},clean:{},onEnd:{}},this.css({position:"absolute"})},u.handleEvent=function(t){var e="on"+t.type;this[e]&&this[e](t)},u.getSize=function(){this.size=e(this.element)},u.css=function(t){var e=this.element.style;for(var i in t){var n=c[i]||i;e[n]=t[i]}},u.getPosition=function(){var t=getComputedStyle(this.element),e=this.layout._getOption("originLeft"),i=this.layout._getOption("originTop"),n=t[e?"left":"right"],o=t[i?"top":"bottom"],r=this.layout.size,a=n.indexOf("%")!=-1?parseFloat(n)/100*r.width:parseInt(n,10),s=o.indexOf("%")!=-1?parseFloat(o)/100*r.height:parseInt(o,10);a=isNaN(a)?0:a,s=isNaN(s)?0:s,a-=e?r.paddingLeft:r.paddingRight,s-=i?r.paddingTop:r.paddingBottom,this.position.x=a,this.position.y=s},u.layoutPosition=function(){var t=this.layout.size,e={},i=this.layout._getOption("originLeft"),n=this.layout._getOption("originTop"),o=i?"paddingLeft":"paddingRight",r=i?"left":"right",a=i?"right":"left",s=this.position.x+t[o];e[r]=this.getXValue(s),e[a]="";var l=n?"paddingTop":"paddingBottom",c=n?"top":"bottom",u=n?"bottom":"top",d=this.position.y+t[l];e[c]=this.getYValue(d),e[u]="",this.css(e),this.emitEvent("layout",[this])},u.getXValue=function(t){var e=this.layout._getOption("horizontal");return this.layout.options.percentPosition&&!e?t/this.layout.size.width*100+"%":t+"px"},u.getYValue=function(t){var e=this.layout._getOption("horizontal");return this.layout.options.percentPosition&&e?t/this.layout.size.height*100+"%":t+"px"},u._transitionTo=function(t,e){this.getPosition();var i=this.position.x,n=this.position.y,o=parseInt(t,10),r=parseInt(e,10),a=o===this.position.x&&r===this.position.y;if(this.setPosition(t,e),a&&!this.isTransitioning)return void this.layoutPosition();var s=t-i,l=e-n,c={};c.transform=this.getTranslate(s,l),this.transition({to:c,onTransitionEnd:{transform:this.layoutPosition},isCleaning:!0})},u.getTranslate=function(t,e){var i=this.layout._getOption("originLeft"),n=this.layout._getOption("originTop");return t=i?t:-t,e=n?e:-e,"translate3d("+t+"px, "+e+"px, 0)"},u.goTo=function(t,e){this.setPosition(t,e),this.layoutPosition()},u.moveTo=u._transitionTo,u.setPosition=function(t,e){this.position.x=parseInt(t,10),this.position.y=parseInt(e,10)},u._nonTransition=function(t){this.css(t.to),t.isCleaning&&this._removeStyles(t.to);for(var e in t.onTransitionEnd)t.onTransitionEnd[e].call(this)},u.transition=function(t){if(!parseFloat(this.layout.options.transitionDuration))return void this._nonTransition(t);var e=this._transn;for(var i in t.onTransitionEnd)e.onEnd[i]=t.onTransitionEnd[i];for(i in t.to)e.ingProperties[i]=!0,t.isCleaning&&(e.clean[i]=!0);if(t.from){this.css(t.from);var n=this.element.offsetHeight;n=null}this.enableTransition(t.to),this.css(t.to),this.isTransitioning=!0};var d="opacity,"+o(s);u.enableTransition=function(){if(!this.isTransitioning){var t=this.layout.options.transitionDuration;t="number"==typeof t?t+"ms":t,this.css({transitionProperty:d,transitionDuration:t,transitionDelay:this.staggerDelay||0}),this.element.addEventListener(l,this,!1)}},u.onwebkitTransitionEnd=function(t){this.ontransitionend(t)},u.onotransitionend=function(t){this.ontransitionend(t)};var h={"-webkit-transform":"transform"};u.ontransitionend=function(t){if(t.target===this.element){var e=this._transn,n=h[t.propertyName]||t.propertyName;if(delete e.ingProperties[n],i(e.ingProperties)&&this.disableTransition(),n in e.clean&&(this.element.style[t.propertyName]="",delete e.clean[n]),n in e.onEnd){var o=e.onEnd[n];o.call(this),delete e.onEnd[n]}this.emitEvent("transitionEnd",[this])}},u.disableTransition=function(){this.removeTransitionStyles(),this.element.removeEventListener(l,this,!1),this.isTransitioning=!1},u._removeStyles=function(t){var e={};for(var i in t)e[i]="";this.css(e)};var f={transitionProperty:"",transitionDuration:"",transitionDelay:""};return u.removeTransitionStyles=function(){this.css(f)},u.stagger=function(t){t=isNaN(t)?0:t,this.staggerDelay=t+"ms"},u.removeElem=function(){this.element.parentNode.removeChild(this.element),this.css({display:""}),this.emitEvent("remove",[this])},u.remove=function(){return a&&parseFloat(this.layout.options.transitionDuration)?(this.once("transitionEnd",function(){this.removeElem()}),void this.hide()):void this.removeElem()},u.reveal=function(){delete this.isHidden,this.css({display:""});var t=this.layout.options,e={},i=this.getHideRevealTransitionEndProperty("visibleStyle");e[i]=this.onRevealTransitionEnd,this.transition({from:t.hiddenStyle,to:t.visibleStyle,isCleaning:!0,onTransitionEnd:e})},u.onRevealTransitionEnd=function(){this.isHidden||this.emitEvent("reveal")},u.getHideRevealTransitionEndProperty=function(t){var e=this.layout.options[t];if(e.opacity)return"opacity";for(var i in e)return i},u.hide=function(){this.isHidden=!0,this.css({display:""});var t=this.layout.options,e={},i=this.getHideRevealTransitionEndProperty("hiddenStyle");e[i]=this.onHideTransitionEnd,this.transition({from:t.visibleStyle,to:t.hiddenStyle,isCleaning:!0,onTransitionEnd:e})},u.onHideTransitionEnd=function(){this.isHidden&&(this.css({display:"none"}),this.emitEvent("hide"))},u.destroy=function(){this.css({position:"",left:"",right:"",top:"",bottom:"",transition:"",transform:""})},n}),function(t,e){"use strict";"function"==typeof define&&define.amd?define("outlayer/outlayer",["ev-emitter/ev-emitter","get-size/get-size","fizzy-ui-utils/utils","./item"],function(i,n,o,r){return e(t,i,n,o,r)}):"object"==typeof module&&module.exports?module.exports=e(t,require("ev-emitter"),require("get-size"),require("fizzy-ui-utils"),require("./item")):t.Outlayer=e(t,t.EvEmitter,t.getSize,t.fizzyUIUtils,t.Outlayer.Item)}(window,function(t,e,i,n,o){"use strict";function r(t,e){var i=n.getQueryElement(t);if(!i)return void(l&&l.error("Bad element for "+this.constructor.namespace+": "+(i||t)));this.element=i,c&&(this.$element=c(this.element)),this.options=n.extend({},this.constructor.defaults),this.option(e);var o=++d;this.element.outlayerGUID=o,h[o]=this,this._create();var r=this._getOption("initLayout");r&&this.layout()}function a(t){function e(){t.apply(this,arguments)}return e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e}function s(t){if("number"==typeof t)return t;var e=t.match(/(^\d*\.?\d*)(\w*)/),i=e&&e[1],n=e&&e[2];if(!i.length)return 0;i=parseFloat(i);var o=p[n]||1;return i*o}var l=t.console,c=t.jQuery,u=function(){},d=0,h={};r.namespace="outlayer",r.Item=o,r.defaults={containerStyle:{position:"relative"},initLayout:!0,originLeft:!0,originTop:!0,resize:!0,resizeContainer:!0,transitionDuration:"0.4s",hiddenStyle:{opacity:0,transform:"scale(0.001)"},visibleStyle:{opacity:1,transform:"scale(1)"}};var f=r.prototype;n.extend(f,e.prototype),f.option=function(t){n.extend(this.options,t)},f._getOption=function(t){var e=this.constructor.compatOptions[t];return e&&void 0!==this.options[e]?this.options[e]:this.options[t]},r.compatOptions={initLayout:"isInitLayout",horizontal:"isHorizontal",layoutInstant:"isLayoutInstant",originLeft:"isOriginLeft",originTop:"isOriginTop",resize:"isResizeBound",resizeContainer:"isResizingContainer"},f._create=function(){this.reloadItems(),this.stamps=[],this.stamp(this.options.stamp),n.extend(this.element.style,this.options.containerStyle);var t=this._getOption("resize");t&&this.bindResize()},f.reloadItems=function(){this.items=this._itemize(this.element.children)},f._itemize=function(t){for(var e=this._filterFindItemElements(t),i=this.constructor.Item,n=[],o=0;o<e.length;o++){var r=e[o],a=new i(r,this);n.push(a)}return n},f._filterFindItemElements=function(t){return n.filterFindElements(t,this.options.itemSelector)},f.getItemElements=function(){return this.items.map(function(t){return t.element})},f.layout=function(){this._resetLayout(),this._manageStamps();var t=this._getOption("layoutInstant"),e=void 0!==t?t:!this._isLayoutInited;this.layoutItems(this.items,e),this._isLayoutInited=!0},f._init=f.layout,f._resetLayout=function(){this.getSize()},f.getSize=function(){this.size=i(this.element)},f._getMeasurement=function(t,e){var n,o=this.options[t];o?("string"==typeof o?n=this.element.querySelector(o):o instanceof HTMLElement&&(n=o),this[t]=n?i(n)[e]:o):this[t]=0},f.layoutItems=function(t,e){t=this._getItemsForLayout(t),this._layoutItems(t,e),this._postLayout()},f._getItemsForLayout=function(t){return t.filter(function(t){return!t.isIgnored})},f._layoutItems=function(t,e){if(this._emitCompleteOnItems("layout",t),t&&t.length){var i=[];t.forEach(function(t){var n=this._getItemLayoutPosition(t);n.item=t,n.isInstant=e||t.isLayoutInstant,i.push(n)},this),this._processLayoutQueue(i)}},f._getItemLayoutPosition=function(){return{x:0,y:0}},f._processLayoutQueue=function(t){this.updateStagger(),t.forEach(function(t,e){this._positionItem(t.item,t.x,t.y,t.isInstant,e)},this)},f.updateStagger=function(){var t=this.options.stagger;return null===t||void 0===t?void(this.stagger=0):(this.stagger=s(t),this.stagger)},f._positionItem=function(t,e,i,n,o){n?t.goTo(e,i):(t.stagger(o*this.stagger),t.moveTo(e,i))},f._postLayout=function(){this.resizeContainer()},f.resizeContainer=function(){var t=this._getOption("resizeContainer");if(t){var e=this._getContainerSize();e&&(this._setContainerMeasure(e.width,!0),this._setContainerMeasure(e.height,!1))}},f._getContainerSize=u,f._setContainerMeasure=function(t,e){if(void 0!==t){var i=this.size;i.isBorderBox&&(t+=e?i.paddingLeft+i.paddingRight+i.borderLeftWidth+i.borderRightWidth:i.paddingBottom+i.paddingTop+i.borderTopWidth+i.borderBottomWidth),t=Math.max(t,0),this.element.style[e?"width":"height"]=t+"px"}},f._emitCompleteOnItems=function(t,e){function i(){o.dispatchEvent(t+"Complete",null,[e])}function n(){a++,a==r&&i()}var o=this,r=e.length;if(!e||!r)return void i();var a=0;e.forEach(function(e){e.once(t,n)})},f.dispatchEvent=function(t,e,i){var n=e?[e].concat(i):i;if(this.emitEvent(t,n),c)if(this.$element=this.$element||c(this.element),e){var o=c.Event(e);o.type=t,this.$element.trigger(o,i)}else this.$element.trigger(t,i)},f.ignore=function(t){var e=this.getItem(t);e&&(e.isIgnored=!0)},f.unignore=function(t){var e=this.getItem(t);e&&delete e.isIgnored},f.stamp=function(t){t=this._find(t),t&&(this.stamps=this.stamps.concat(t),t.forEach(this.ignore,this))},f.unstamp=function(t){t=this._find(t),t&&t.forEach(function(t){n.removeFrom(this.stamps,t),this.unignore(t)},this)},f._find=function(t){if(t)return"string"==typeof t&&(t=this.element.querySelectorAll(t)),t=n.makeArray(t)},f._manageStamps=function(){this.stamps&&this.stamps.length&&(this._getBoundingRect(),this.stamps.forEach(this._manageStamp,this))},f._getBoundingRect=function(){var t=this.element.getBoundingClientRect(),e=this.size;this._boundingRect={left:t.left+e.paddingLeft+e.borderLeftWidth,top:t.top+e.paddingTop+e.borderTopWidth,right:t.right-(e.paddingRight+e.borderRightWidth),bottom:t.bottom-(e.paddingBottom+e.borderBottomWidth)}},f._manageStamp=u,f._getElementOffset=function(t){var e=t.getBoundingClientRect(),n=this._boundingRect,o=i(t),r={left:e.left-n.left-o.marginLeft,top:e.top-n.top-o.marginTop,right:n.right-e.right-o.marginRight,bottom:n.bottom-e.bottom-o.marginBottom};return r},f.handleEvent=n.handleEvent,f.bindResize=function(){t.addEventListener("resize",this),this.isResizeBound=!0},f.unbindResize=function(){t.removeEventListener("resize",this),this.isResizeBound=!1},f.onresize=function(){this.resize()},n.debounceMethod(r,"onresize",100),f.resize=function(){this.isResizeBound&&this.needsResizeLayout()&&this.layout()},f.needsResizeLayout=function(){var t=i(this.element),e=this.size&&t;return e&&t.innerWidth!==this.size.innerWidth},f.addItems=function(t){var e=this._itemize(t);return e.length&&(this.items=this.items.concat(e)),e},f.appended=function(t){var e=this.addItems(t);e.length&&(this.layoutItems(e,!0),this.reveal(e))},f.prepended=function(t){var e=this._itemize(t);if(e.length){var i=this.items.slice(0);this.items=e.concat(i),this._resetLayout(),this._manageStamps(),this.layoutItems(e,!0),this.reveal(e),this.layoutItems(i)}},f.reveal=function(t){if(this._emitCompleteOnItems("reveal",t),t&&t.length){var e=this.updateStagger();t.forEach(function(t,i){t.stagger(i*e),t.reveal()})}},f.hide=function(t){if(this._emitCompleteOnItems("hide",t),t&&t.length){var e=this.updateStagger();t.forEach(function(t,i){t.stagger(i*e),t.hide()})}},f.revealItemElements=function(t){var e=this.getItems(t);this.reveal(e)},f.hideItemElements=function(t){var e=this.getItems(t);this.hide(e)},f.getItem=function(t){for(var e=0;e<this.items.length;e++){var i=this.items[e];if(i.element==t)return i}},f.getItems=function(t){t=n.makeArray(t);var e=[];return t.forEach(function(t){var i=this.getItem(t);i&&e.push(i)},this),e},f.remove=function(t){var e=this.getItems(t);this._emitCompleteOnItems("remove",e),e&&e.length&&e.forEach(function(t){t.remove(),n.removeFrom(this.items,t)},this)},f.destroy=function(){var t=this.element.style;t.height="",t.position="",t.width="",this.items.forEach(function(t){t.destroy()}),this.unbindResize();var e=this.element.outlayerGUID;delete h[e],delete this.element.outlayerGUID,c&&c.removeData(this.element,this.constructor.namespace)},r.data=function(t){t=n.getQueryElement(t);var e=t&&t.outlayerGUID;return e&&h[e]},r.create=function(t,e){var i=a(r);return i.defaults=n.extend({},r.defaults),n.extend(i.defaults,e),i.compatOptions=n.extend({},r.compatOptions),i.namespace=t,i.data=r.data,i.Item=a(o),n.htmlInit(i,t),c&&c.bridget&&c.bridget(t,i),i};var p={ms:1,s:1e3};return r.Item=o,r}),function(t,e){"function"==typeof define&&define.amd?define("isotope/js/item",["outlayer/outlayer"],e):"object"==typeof module&&module.exports?module.exports=e(require("outlayer")):(t.Isotope=t.Isotope||{},t.Isotope.Item=e(t.Outlayer))}(window,function(t){"use strict";function e(){t.Item.apply(this,arguments)}var i=e.prototype=Object.create(t.Item.prototype),n=i._create;i._create=function(){this.id=this.layout.itemGUID++,n.call(this),this.sortData={}},i.updateSortData=function(){if(!this.isIgnored){this.sortData.id=this.id,this.sortData["original-order"]=this.id,this.sortData.random=Math.random();var t=this.layout.options.getSortData,e=this.layout._sorters;for(var i in t){var n=e[i];this.sortData[i]=n(this.element,this)}}};var o=i.destroy;return i.destroy=function(){o.apply(this,arguments),this.css({display:""})},e}),function(t,e){"function"==typeof define&&define.amd?define("isotope/js/layout-mode",["get-size/get-size","outlayer/outlayer"],e):"object"==typeof module&&module.exports?module.exports=e(require("get-size"),require("outlayer")):(t.Isotope=t.Isotope||{},t.Isotope.LayoutMode=e(t.getSize,t.Outlayer))}(window,function(t,e){"use strict";function i(t){this.isotope=t,t&&(this.options=t.options[this.namespace],this.element=t.element,this.items=t.filteredItems,this.size=t.size)}var n=i.prototype,o=["_resetLayout","_getItemLayoutPosition","_manageStamp","_getContainerSize","_getElementOffset","needsResizeLayout","_getOption"];return o.forEach(function(t){n[t]=function(){return e.prototype[t].apply(this.isotope,arguments)}}),n.needsVerticalResizeLayout=function(){var e=t(this.isotope.element),i=this.isotope.size&&e;return i&&e.innerHeight!=this.isotope.size.innerHeight},n._getMeasurement=function(){this.isotope._getMeasurement.apply(this,arguments)},n.getColumnWidth=function(){this.getSegmentSize("column","Width")},n.getRowHeight=function(){this.getSegmentSize("row","Height")},n.getSegmentSize=function(t,e){var i=t+e,n="outer"+e;if(this._getMeasurement(i,n),!this[i]){var o=this.getFirstItemSize();this[i]=o&&o[n]||this.isotope.size["inner"+e]}},n.getFirstItemSize=function(){var e=this.isotope.filteredItems[0];return e&&e.element&&t(e.element)},n.layout=function(){this.isotope.layout.apply(this.isotope,arguments)},n.getSize=function(){this.isotope.getSize(),this.size=this.isotope.size},i.modes={},i.create=function(t,e){function o(){i.apply(this,arguments)}return o.prototype=Object.create(n),o.prototype.constructor=o,e&&(o.options=e),o.prototype.namespace=t,i.modes[t]=o,o},i}),function(t,e){"function"==typeof define&&define.amd?define("masonry/masonry",["outlayer/outlayer","get-size/get-size"],e):"object"==typeof module&&module.exports?module.exports=e(require("outlayer"),require("get-size")):t.Masonry=e(t.Outlayer,t.getSize)}(window,function(t,e){var i=t.create("masonry");return i.compatOptions.fitWidth="isFitWidth",i.prototype._resetLayout=function(){this.getSize(),this._getMeasurement("columnWidth","outerWidth"),this._getMeasurement("gutter","outerWidth"),this.measureColumns(),this.colYs=[];for(var t=0;t<this.cols;t++)this.colYs.push(0);this.maxY=0},i.prototype.measureColumns=function(){if(this.getContainerWidth(),!this.columnWidth){var t=this.items[0],i=t&&t.element;this.columnWidth=i&&e(i).outerWidth||this.containerWidth}var n=this.columnWidth+=this.gutter,o=this.containerWidth+this.gutter,r=o/n,a=n-o%n,s=a&&a<1?"round":"floor";r=Math[s](r),this.cols=Math.max(r,1)},i.prototype.getContainerWidth=function(){var t=this._getOption("fitWidth"),i=t?this.element.parentNode:this.element,n=e(i);this.containerWidth=n&&n.innerWidth},i.prototype._getItemLayoutPosition=function(t){t.getSize();var e=t.size.outerWidth%this.columnWidth,i=e&&e<1?"round":"ceil",n=Math[i](t.size.outerWidth/this.columnWidth);n=Math.min(n,this.cols);for(var o=this._getColGroup(n),r=Math.min.apply(Math,o),a=o.indexOf(r),s={x:this.columnWidth*a,y:r},l=r+t.size.outerHeight,c=this.cols+1-o.length,u=0;u<c;u++)this.colYs[a+u]=l;return s},i.prototype._getColGroup=function(t){if(t<2)return this.colYs;for(var e=[],i=this.cols+1-t,n=0;n<i;n++){var o=this.colYs.slice(n,n+t);e[n]=Math.max.apply(Math,o)}return e},i.prototype._manageStamp=function(t){var i=e(t),n=this._getElementOffset(t),o=this._getOption("originLeft"),r=o?n.left:n.right,a=r+i.outerWidth,s=Math.floor(r/this.columnWidth);s=Math.max(0,s);var l=Math.floor(a/this.columnWidth);l-=a%this.columnWidth?0:1,l=Math.min(this.cols-1,l);for(var c=this._getOption("originTop"),u=(c?n.top:n.bottom)+i.outerHeight,d=s;d<=l;d++)this.colYs[d]=Math.max(u,this.colYs[d])},i.prototype._getContainerSize=function(){this.maxY=Math.max.apply(Math,this.colYs);var t={height:this.maxY};return this._getOption("fitWidth")&&(t.width=this._getContainerFitWidth()),t},i.prototype._getContainerFitWidth=function(){for(var t=0,e=this.cols;--e&&0===this.colYs[e];)t++;return(this.cols-t)*this.columnWidth-this.gutter},i.prototype.needsResizeLayout=function(){var t=this.containerWidth;return this.getContainerWidth(),t!=this.containerWidth},i}),function(t,e){"function"==typeof define&&define.amd?define("isotope/js/layout-modes/masonry",["../layout-mode","masonry/masonry"],e):"object"==typeof module&&module.exports?module.exports=e(require("../layout-mode"),require("masonry-layout")):e(t.Isotope.LayoutMode,t.Masonry);
}(window,function(t,e){"use strict";var i=t.create("masonry"),n=i.prototype,o={_getElementOffset:!0,layout:!0,_getMeasurement:!0};for(var r in e.prototype)o[r]||(n[r]=e.prototype[r]);var a=n.measureColumns;n.measureColumns=function(){this.items=this.isotope.filteredItems,a.call(this)};var s=n._getOption;return n._getOption=function(t){return"fitWidth"==t?void 0!==this.options.isFitWidth?this.options.isFitWidth:this.options.fitWidth:s.apply(this.isotope,arguments)},i}),function(t,e){"function"==typeof define&&define.amd?define("isotope/js/layout-modes/fit-rows",["../layout-mode"],e):"object"==typeof exports?module.exports=e(require("../layout-mode")):e(t.Isotope.LayoutMode)}(window,function(t){"use strict";var e=t.create("fitRows"),i=e.prototype;return i._resetLayout=function(){this.x=0,this.y=0,this.maxY=0,this._getMeasurement("gutter","outerWidth")},i._getItemLayoutPosition=function(t){t.getSize();var e=t.size.outerWidth+this.gutter,i=this.isotope.size.innerWidth+this.gutter;0!==this.x&&e+this.x>i&&(this.x=0,this.y=this.maxY);var n={x:this.x,y:this.y};return this.maxY=Math.max(this.maxY,this.y+t.size.outerHeight),this.x+=e,n},i._getContainerSize=function(){return{height:this.maxY}},e}),function(t,e){"function"==typeof define&&define.amd?define("isotope/js/layout-modes/vertical",["../layout-mode"],e):"object"==typeof module&&module.exports?module.exports=e(require("../layout-mode")):e(t.Isotope.LayoutMode)}(window,function(t){"use strict";var e=t.create("vertical",{horizontalAlignment:0}),i=e.prototype;return i._resetLayout=function(){this.y=0},i._getItemLayoutPosition=function(t){t.getSize();var e=(this.isotope.size.innerWidth-t.size.outerWidth)*this.options.horizontalAlignment,i=this.y;return this.y+=t.size.outerHeight,{x:e,y:i}},i._getContainerSize=function(){return{height:this.y}},e}),function(t,e){"function"==typeof define&&define.amd?define(["outlayer/outlayer","get-size/get-size","desandro-matches-selector/matches-selector","fizzy-ui-utils/utils","isotope/js/item","isotope/js/layout-mode","isotope/js/layout-modes/masonry","isotope/js/layout-modes/fit-rows","isotope/js/layout-modes/vertical"],function(i,n,o,r,a,s){return e(t,i,n,o,r,a,s)}):"object"==typeof module&&module.exports?module.exports=e(t,require("outlayer"),require("get-size"),require("desandro-matches-selector"),require("fizzy-ui-utils"),require("isotope/js/item"),require("isotope/js/layout-mode"),require("isotope/js/layout-modes/masonry"),require("isotope/js/layout-modes/fit-rows"),require("isotope/js/layout-modes/vertical")):t.Isotope=e(t,t.Outlayer,t.getSize,t.matchesSelector,t.fizzyUIUtils,t.Isotope.Item,t.Isotope.LayoutMode)}(window,function(t,e,i,n,o,r,a){function s(t,e){return function(i,n){for(var o=0;o<t.length;o++){var r=t[o],a=i.sortData[r],s=n.sortData[r];if(a>s||a<s){var l=void 0!==e[r]?e[r]:e,c=l?1:-1;return(a>s?1:-1)*c}}return 0}}var l=t.jQuery,c=String.prototype.trim?function(t){return t.trim()}:function(t){return t.replace(/^\s+|\s+$/g,"")},u=e.create("isotope",{layoutMode:"masonry",isJQueryFiltering:!0,sortAscending:!0});u.Item=r,u.LayoutMode=a;var d=u.prototype;d._create=function(){this.itemGUID=0,this._sorters={},this._getSorters(),e.prototype._create.call(this),this.modes={},this.filteredItems=this.items,this.sortHistory=["original-order"];for(var t in a.modes)this._initLayoutMode(t)},d.reloadItems=function(){this.itemGUID=0,e.prototype.reloadItems.call(this)},d._itemize=function(){for(var t=e.prototype._itemize.apply(this,arguments),i=0;i<t.length;i++){var n=t[i];n.id=this.itemGUID++}return this._updateItemsSortData(t),t},d._initLayoutMode=function(t){var e=a.modes[t],i=this.options[t]||{};this.options[t]=e.options?o.extend(e.options,i):i,this.modes[t]=new e(this)},d.layout=function(){return!this._isLayoutInited&&this._getOption("initLayout")?void this.arrange():void this._layout()},d._layout=function(){var t=this._getIsInstant();this._resetLayout(),this._manageStamps(),this.layoutItems(this.filteredItems,t),this._isLayoutInited=!0},d.arrange=function(t){this.option(t),this._getIsInstant();var e=this._filter(this.items);this.filteredItems=e.matches,this._bindArrangeComplete(),this._isInstant?this._noTransition(this._hideReveal,[e]):this._hideReveal(e),this._sort(),this._layout()},d._init=d.arrange,d._hideReveal=function(t){this.reveal(t.needReveal),this.hide(t.needHide)},d._getIsInstant=function(){var t=this._getOption("layoutInstant"),e=void 0!==t?t:!this._isLayoutInited;return this._isInstant=e,e},d._bindArrangeComplete=function(){function t(){e&&i&&n&&o.dispatchEvent("arrangeComplete",null,[o.filteredItems])}var e,i,n,o=this;this.once("layoutComplete",function(){e=!0,t()}),this.once("hideComplete",function(){i=!0,t()}),this.once("revealComplete",function(){n=!0,t()})},d._filter=function(t){var e=this.options.filter;e=e||"*";for(var i=[],n=[],o=[],r=this._getFilterTest(e),a=0;a<t.length;a++){var s=t[a];if(!s.isIgnored){var l=r(s);l&&i.push(s),l&&s.isHidden?n.push(s):l||s.isHidden||o.push(s)}}return{matches:i,needReveal:n,needHide:o}},d._getFilterTest=function(t){return l&&this.options.isJQueryFiltering?function(e){return l(e.element).is(t)}:"function"==typeof t?function(e){return t(e.element)}:function(e){return n(e.element,t)}},d.updateSortData=function(t){var e;t?(t=o.makeArray(t),e=this.getItems(t)):e=this.items,this._getSorters(),this._updateItemsSortData(e)},d._getSorters=function(){var t=this.options.getSortData;for(var e in t){var i=t[e];this._sorters[e]=h(i)}},d._updateItemsSortData=function(t){for(var e=t&&t.length,i=0;e&&i<e;i++){var n=t[i];n.updateSortData()}};var h=function(){function t(t){if("string"!=typeof t)return t;var i=c(t).split(" "),n=i[0],o=n.match(/^\[(.+)\]$/),r=o&&o[1],a=e(r,n),s=u.sortDataParsers[i[1]];return t=s?function(t){return t&&s(a(t))}:function(t){return t&&a(t)}}function e(t,e){return t?function(e){return e.getAttribute(t)}:function(t){var i=t.querySelector(e);return i&&i.textContent}}return t}();u.sortDataParsers={parseInt:function(t){return parseInt(t,10)},parseFloat:function(t){return parseFloat(t)}},d._sort=function(){var t=this.options.sortBy;if(t){var e=[].concat.apply(t,this.sortHistory),i=s(e,this.options.sortAscending);this.filteredItems.sort(i),t!=this.sortHistory[0]&&this.sortHistory.unshift(t)}},d._mode=function(){var t=this.options.layoutMode,e=this.modes[t];if(!e)throw new Error("No layout mode: "+t);return e.options=this.options[t],e},d._resetLayout=function(){e.prototype._resetLayout.call(this),this._mode()._resetLayout()},d._getItemLayoutPosition=function(t){return this._mode()._getItemLayoutPosition(t)},d._manageStamp=function(t){this._mode()._manageStamp(t)},d._getContainerSize=function(){return this._mode()._getContainerSize()},d.needsResizeLayout=function(){return this._mode().needsResizeLayout()},d.appended=function(t){var e=this.addItems(t);if(e.length){var i=this._filterRevealAdded(e);this.filteredItems=this.filteredItems.concat(i)}},d.prepended=function(t){var e=this._itemize(t);if(e.length){this._resetLayout(),this._manageStamps();var i=this._filterRevealAdded(e);this.layoutItems(this.filteredItems),this.filteredItems=i.concat(this.filteredItems),this.items=e.concat(this.items)}},d._filterRevealAdded=function(t){var e=this._filter(t);return this.hide(e.needHide),this.reveal(e.matches),this.layoutItems(e.matches,!0),e.matches},d.insert=function(t){var e=this.addItems(t);if(e.length){var i,n,o=e.length;for(i=0;i<o;i++)n=e[i],this.element.appendChild(n.element);var r=this._filter(e).matches;for(i=0;i<o;i++)e[i].isLayoutInstant=!0;for(this.arrange(),i=0;i<o;i++)delete e[i].isLayoutInstant;this.reveal(r)}};var f=d.remove;return d.remove=function(t){t=o.makeArray(t);var e=this.getItems(t);f.call(this,t);for(var i=e&&e.length,n=0;i&&n<i;n++){var r=e[n];o.removeFrom(this.filteredItems,r)}},d.shuffle=function(){for(var t=0;t<this.items.length;t++){var e=this.items[t];e.sortData.random=Math.random()}this.options.sortBy="random",this._sort(),this._layout()},d._noTransition=function(t,e){var i=this.options.transitionDuration;this.options.transitionDuration=0;var n=t.apply(this,e);return this.options.transitionDuration=i,n},d.getFilteredItemElements=function(){return this.filteredItems.map(function(t){return t.element})},u}),function(t){t.fn.notifier=function(){var e={success:"dashicons dashicons-yes",info:"dashicons dashicons-info",warning:"dashicons dashicons-warning",failure:"dashicons dashicons-no"},i=function(){},n=function(){},o=7500,r=function(){return{styles:{wrapper:"position:fixed; top: 40px; right: 20px; line-height: 1.2; z-index: 999;",notification:"opacity: 0.0, display: none; position: relative; width: 320px; padding: 25px; margin-bottom: 20px; z-index: 999; box-shadow: 0 2px 5px 0 rgba(0,0,0,0.16),0 2px 10px 0 rgba(0,0,0,0.12); transition: all, 0.3s;",title:"font-size: 30px; text-transform: uppercase;",subtitle:"",icon:"position: relative; font-size: 48px; padding: 0px 10px 0px 0px;",success:"background-color: #dff0d8; color: #3c763d;",info:"background-color: #d9edf7; color: #31708f;",warning:"background-color: #fcf8e3; color: #8a6d3b;",failure:"background-color: #f2dede; color: #a94442;"},globalWrapper:"body",wrapper:"notifications",selector:"notification",init:function(){var e=t(this.globalWrapper);e.css({position:"relative"}),e.append('<div class="'+this.wrapper+'" style="'+this.styles.wrapper+'"></div>')},exists:function(){return t("."+this.wrapper).length>0},getCallbacks:function(t){return t="object"==typeof t?t:{},t.show=this.getCallback(t.show),t.hide=this.getCallback(t.hide),t},getCallback:function(t){return"function"==typeof t?t:function(){}},getTemplate:function(t){var e='<div class="'+this.selector+" "+t.type+'" data-index="'+t.index+'" style="'+this.styles.notification+this.styles[t.type]+'"><p style="'+this.styles.title+'"><span class="icon dashicons '+t.icon+'" style="'+this.styles.icon+'"></span>'+t.args.title+'</p><p style="'+this.styles.subtitle+'">'+t.args.subtitle+"</p></div>";return e},show:function(n){var o=n.type,r=this.getCallbacks(n.callbacks);this.exists()||this.init(),e.hasOwnProperty(o)||(o="info");var a={args:{title:n.title,subtitle:n.subtitle},type:o,icon:e[o],index:t("."+this.selector).length},s=this.getTemplate(a);t("."+this.wrapper).append(s);var l=t("."+this.selector+'[data-index="'+a.index+'"]');l.show(),i(),r.show(),this.hide(a.index,r.hide)},hide:function(e,i){var r=this;setTimeout(function(){if(0!=t("."+r.selector+'[data-index="'+e+'"]:hover').length)r.hide(e,i);else{var o=t("."+r.selector+'[data-index="'+e+'"]');o.hide(),n(),i()}},o)}}}(),a=function(e){e="object"==typeof e?e:{};var i="number"==typeof e.delay&&e.delay>0?e.delay:0;return"undefined"!=typeof e.showOnEvent&&e.showOnEvent.length>0?t(document).on(e.showOnEvent,function(){setTimeout(function(){r.show(e)},i)}):setTimeout(function(){r.show(e)},i),this},s=function(t){t="object"==typeof t?t:{},"function"==typeof t.show&&(i=t.show),"function"==typeof t.hide&&(n=t.hide),"object"==typeof t.icons&&(e=t.icons),"number"==typeof t.hideAfter&&(o=t.hideAfter)};return{init:s,notify:a}}()}(jQuery),function(t){"function"==typeof define&&define.amd?define(["jquery"],t):t("object"==typeof exports?require("jquery"):window.jQuery||window.Zepto)}(function(t){var e,i,n,o,r,a,s="Close",l="BeforeClose",c="AfterClose",u="BeforeAppend",d="MarkupParse",h="Open",f="Change",p="mfp",m="."+p,g="mfp-ready",v="mfp-removing",y="mfp-prevent-close",b=function(){},x=!!window.jQuery,w=t(window),S=function(t,i){e.ev.on(p+t+m,i)},C=function(e,i,n,o){var r=document.createElement("div");return r.className="mfp-"+e,n&&(r.innerHTML=n),o?i&&i.appendChild(r):(r=t(r),i&&r.appendTo(i)),r},I=function(i,n){e.ev.triggerHandler(p+i,n),e.st.callbacks&&(i=i.charAt(0).toLowerCase()+i.slice(1),e.st.callbacks[i]&&e.st.callbacks[i].apply(e,t.isArray(n)?n:[n]))},_=function(i){return i===a&&e.currTemplate.closeBtn||(e.currTemplate.closeBtn=t(e.st.closeMarkup.replace("%title%",e.st.tClose)),a=i),e.currTemplate.closeBtn},z=function(){t.magnificPopup.instance||(e=new b,e.init(),t.magnificPopup.instance=e)},E=function(){var t=document.createElement("p").style,e=["ms","O","Moz","Webkit"];if(void 0!==t.transition)return!0;for(;e.length;)if(e.pop()+"Transition"in t)return!0;return!1};b.prototype={constructor:b,init:function(){var i=navigator.appVersion;e.isLowIE=e.isIE8=document.all&&!document.addEventListener,e.isAndroid=/android/gi.test(i),e.isIOS=/iphone|ipad|ipod/gi.test(i),e.supportsTransition=E(),e.probablyMobile=e.isAndroid||e.isIOS||/(Opera Mini)|Kindle|webOS|BlackBerry|(Opera Mobi)|(Windows Phone)|IEMobile/i.test(navigator.userAgent),n=t(document),e.popupsCache={}},open:function(i){var o;if(i.isObj===!1){e.items=i.items.toArray(),e.index=0;var a,s=i.items;for(o=0;o<s.length;o++)if(a=s[o],a.parsed&&(a=a.el[0]),a===i.el[0]){e.index=o;break}}else e.items=t.isArray(i.items)?i.items:[i.items],e.index=i.index||0;if(e.isOpen)return void e.updateItemHTML();e.types=[],r="",i.mainEl&&i.mainEl.length?e.ev=i.mainEl.eq(0):e.ev=n,i.key?(e.popupsCache[i.key]||(e.popupsCache[i.key]={}),e.currTemplate=e.popupsCache[i.key]):e.currTemplate={},e.st=t.extend(!0,{},t.magnificPopup.defaults,i),e.fixedContentPos="auto"===e.st.fixedContentPos?!e.probablyMobile:e.st.fixedContentPos,e.st.modal&&(e.st.closeOnContentClick=!1,e.st.closeOnBgClick=!1,e.st.showCloseBtn=!1,e.st.enableEscapeKey=!1),e.bgOverlay||(e.bgOverlay=C("bg").on("click"+m,function(){e.close()}),e.wrap=C("wrap").attr("tabindex",-1).on("click"+m,function(t){e._checkIfClose(t.target)&&e.close()}),e.container=C("container",e.wrap)),e.contentContainer=C("content"),e.st.preloader&&(e.preloader=C("preloader",e.container,e.st.tLoading));var l=t.magnificPopup.modules;for(o=0;o<l.length;o++){var c=l[o];c=c.charAt(0).toUpperCase()+c.slice(1),e["init"+c].call(e)}I("BeforeOpen"),e.st.showCloseBtn&&(e.st.closeBtnInside?(S(d,function(t,e,i,n){i.close_replaceWith=_(n.type)}),r+=" mfp-close-btn-in"):e.wrap.append(_())),e.st.alignTop&&(r+=" mfp-align-top"),e.fixedContentPos?e.wrap.css({overflow:e.st.overflowY,overflowX:"hidden",overflowY:e.st.overflowY}):e.wrap.css({top:w.scrollTop(),position:"absolute"}),(e.st.fixedBgPos===!1||"auto"===e.st.fixedBgPos&&!e.fixedContentPos)&&e.bgOverlay.css({height:n.height(),position:"absolute"}),e.st.enableEscapeKey&&n.on("keyup"+m,function(t){27===t.keyCode&&e.close()}),w.on("resize"+m,function(){e.updateSize()}),e.st.closeOnContentClick||(r+=" mfp-auto-cursor"),r&&e.wrap.addClass(r);var u=e.wH=w.height(),f={};if(e.fixedContentPos&&e._hasScrollBar(u)){var p=e._getScrollbarSize();p&&(f.marginRight=p)}e.fixedContentPos&&(e.isIE7?t("body, html").css("overflow","hidden"):f.overflow="hidden");var v=e.st.mainClass;return e.isIE7&&(v+=" mfp-ie7"),v&&e._addClassToMFP(v),e.updateItemHTML(),I("BuildControls"),t("html").css(f),e.bgOverlay.add(e.wrap).prependTo(e.st.prependTo||t(document.body)),e._lastFocusedEl=document.activeElement,setTimeout(function(){e.content?(e._addClassToMFP(g),e._setFocus()):e.bgOverlay.addClass(g),n.on("focusin"+m,e._onFocusIn)},16),e.isOpen=!0,e.updateSize(u),I(h),i},close:function(){e.isOpen&&(I(l),e.isOpen=!1,e.st.removalDelay&&!e.isLowIE&&e.supportsTransition?(e._addClassToMFP(v),setTimeout(function(){e._close()},e.st.removalDelay)):e._close())},_close:function(){I(s);var i=v+" "+g+" ";if(e.bgOverlay.detach(),e.wrap.detach(),e.container.empty(),e.st.mainClass&&(i+=e.st.mainClass+" "),e._removeClassFromMFP(i),e.fixedContentPos){var o={marginRight:""};e.isIE7?t("body, html").css("overflow",""):o.overflow="",t("html").css(o)}n.off("keyup"+m+" focusin"+m),e.ev.off(m),e.wrap.attr("class","mfp-wrap").removeAttr("style"),e.bgOverlay.attr("class","mfp-bg"),e.container.attr("class","mfp-container"),!e.st.showCloseBtn||e.st.closeBtnInside&&e.currTemplate[e.currItem.type]!==!0||e.currTemplate.closeBtn&&e.currTemplate.closeBtn.detach(),e.st.autoFocusLast&&e._lastFocusedEl&&t(e._lastFocusedEl).focus(),e.currItem=null,e.content=null,e.currTemplate=null,e.prevHeight=0,I(c)},updateSize:function(t){if(e.isIOS){var i=document.documentElement.clientWidth/window.innerWidth,n=window.innerHeight*i;e.wrap.css("height",n),e.wH=n}else e.wH=t||w.height();e.fixedContentPos||e.wrap.css("height",e.wH),I("Resize")},updateItemHTML:function(){var i=e.items[e.index];e.contentContainer.detach(),e.content&&e.content.detach(),i.parsed||(i=e.parseEl(e.index));var n=i.type;if(I("BeforeChange",[e.currItem?e.currItem.type:"",n]),e.currItem=i,!e.currTemplate[n]){var r=!!e.st[n]&&e.st[n].markup;I("FirstMarkupParse",r),r?e.currTemplate[n]=t(r):e.currTemplate[n]=!0}o&&o!==i.type&&e.container.removeClass("mfp-"+o+"-holder");var a=e["get"+n.charAt(0).toUpperCase()+n.slice(1)](i,e.currTemplate[n]);e.appendContent(a,n),i.preloaded=!0,I(f,i),o=i.type,e.container.prepend(e.contentContainer),I("AfterChange")},appendContent:function(t,i){e.content=t,t?e.st.showCloseBtn&&e.st.closeBtnInside&&e.currTemplate[i]===!0?e.content.find(".mfp-close").length||e.content.append(_()):e.content=t:e.content="",I(u),e.container.addClass("mfp-"+i+"-holder"),e.contentContainer.append(e.content)},parseEl:function(i){var n,o=e.items[i];if(o.tagName?o={el:t(o)}:(n=o.type,o={data:o,src:o.src}),o.el){for(var r=e.types,a=0;a<r.length;a++)if(o.el.hasClass("mfp-"+r[a])){n=r[a];break}o.src=o.el.attr("data-mfp-src"),o.src||(o.src=o.el.attr("href"))}return o.type=n||e.st.type||"inline",o.index=i,o.parsed=!0,e.items[i]=o,I("ElementParse",o),e.items[i]},addGroup:function(t,i){var n=function(n){n.mfpEl=this,e._openClick(n,t,i)};i||(i={});var o="click.magnificPopup";i.mainEl=t,i.items?(i.isObj=!0,t.off(o).on(o,n)):(i.isObj=!1,i.delegate?t.off(o).on(o,i.delegate,n):(i.items=t,t.off(o).on(o,n)))},_openClick:function(i,n,o){var r=void 0!==o.midClick?o.midClick:t.magnificPopup.defaults.midClick;if(r||!(2===i.which||i.ctrlKey||i.metaKey||i.altKey||i.shiftKey)){var a=void 0!==o.disableOn?o.disableOn:t.magnificPopup.defaults.disableOn;if(a)if(t.isFunction(a)){if(!a.call(e))return!0}else if(w.width()<a)return!0;i.type&&(i.preventDefault(),e.isOpen&&i.stopPropagation()),o.el=t(i.mfpEl),o.delegate&&(o.items=n.find(o.delegate)),e.open(o)}},updateStatus:function(t,n){if(e.preloader){i!==t&&e.container.removeClass("mfp-s-"+i),n||"loading"!==t||(n=e.st.tLoading);var o={status:t,text:n};I("UpdateStatus",o),t=o.status,n=o.text,e.preloader.html(n),e.preloader.find("a").on("click",function(t){t.stopImmediatePropagation()}),e.container.addClass("mfp-s-"+t),i=t}},_checkIfClose:function(i){if(!t(i).hasClass(y)){var n=e.st.closeOnContentClick,o=e.st.closeOnBgClick;if(n&&o)return!0;if(!e.content||t(i).hasClass("mfp-close")||e.preloader&&i===e.preloader[0])return!0;if(i===e.content[0]||t.contains(e.content[0],i)){if(n)return!0}else if(o&&t.contains(document,i))return!0;return!1}},_addClassToMFP:function(t){e.bgOverlay.addClass(t),e.wrap.addClass(t)},_removeClassFromMFP:function(t){this.bgOverlay.removeClass(t),e.wrap.removeClass(t)},_hasScrollBar:function(t){return(e.isIE7?n.height():document.body.scrollHeight)>(t||w.height())},_setFocus:function(){(e.st.focus?e.content.find(e.st.focus).eq(0):e.wrap).focus()},_onFocusIn:function(i){if(i.target!==e.wrap[0]&&!t.contains(e.wrap[0],i.target))return e._setFocus(),!1},_parseMarkup:function(e,i,n){var o;n.data&&(i=t.extend(n.data,i)),I(d,[e,i,n]),t.each(i,function(i,n){if(void 0===n||n===!1)return!0;if(o=i.split("_"),o.length>1){var r=e.find(m+"-"+o[0]);if(r.length>0){var a=o[1];"replaceWith"===a?r[0]!==n[0]&&r.replaceWith(n):"img"===a?r.is("img")?r.attr("src",n):r.replaceWith(t("<img>").attr("src",n).attr("class",r.attr("class"))):r.attr(o[1],n)}}else e.find(m+"-"+i).html(n)})},_getScrollbarSize:function(){if(void 0===e.scrollbarSize){var t=document.createElement("div");t.style.cssText="width: 99px; height: 99px; overflow: scroll; position: absolute; top: -9999px;",document.body.appendChild(t),e.scrollbarSize=t.offsetWidth-t.clientWidth,document.body.removeChild(t)}return e.scrollbarSize}},t.magnificPopup={instance:null,proto:b.prototype,modules:[],open:function(e,i){return z(),e=e?t.extend(!0,{},e):{},e.isObj=!0,e.index=i||0,this.instance.open(e)},close:function(){return t.magnificPopup.instance&&t.magnificPopup.instance.close()},registerModule:function(e,i){i.options&&(t.magnificPopup.defaults[e]=i.options),t.extend(this.proto,i.proto),this.modules.push(e)},defaults:{disableOn:0,key:null,midClick:!1,mainClass:"",preloader:!0,focus:"",closeOnContentClick:!1,closeOnBgClick:!0,closeBtnInside:!0,showCloseBtn:!0,enableEscapeKey:!0,modal:!1,alignTop:!1,removalDelay:0,prependTo:null,fixedContentPos:"auto",fixedBgPos:"auto",overflowY:"auto",closeMarkup:'<button title="%title%" type="button" class="mfp-close">&#215;</button>',tClose:"Close (Esc)",tLoading:"Loading...",autoFocusLast:!0}},t.fn.magnificPopup=function(i){z();var n=t(this);if("string"==typeof i)if("open"===i){var o,r=x?n.data("magnificPopup"):n[0].magnificPopup,a=parseInt(arguments[1],10)||0;r.items?o=r.items[a]:(o=n,r.delegate&&(o=o.find(r.delegate)),o=o.eq(a)),e._openClick({mfpEl:o},n,r)}else e.isOpen&&e[i].apply(e,Array.prototype.slice.call(arguments,1));else i=t.extend(!0,{},i),x?n.data("magnificPopup",i):n[0].magnificPopup=i,e.addGroup(n,i);return n};var k,P,O,T="inline",L=function(){O&&(P.after(O.addClass(k)).detach(),O=null)};t.magnificPopup.registerModule(T,{options:{hiddenClass:"hide",markup:"",tNotFound:"Content not found"},proto:{initInline:function(){e.types.push(T),S(s+"."+T,function(){L()})},getInline:function(i,n){if(L(),i.src){var o=e.st.inline,r=t(i.src);if(r.length){var a=r[0].parentNode;a&&a.tagName&&(P||(k=o.hiddenClass,P=C(k),k="mfp-"+k),O=r.after(P).detach().removeClass(k)),e.updateStatus("ready")}else e.updateStatus("error",o.tNotFound),r=t("<div>");return i.inlineElement=r,r}return e.updateStatus("ready"),e._parseMarkup(n,{},i),n}}});var M,A="ajax",B=function(){M&&t(document.body).removeClass(M)},j=function(){B(),e.req&&e.req.abort()};t.magnificPopup.registerModule(A,{options:{settings:null,cursor:"mfp-ajax-cur",tError:'<a href="%url%">The content</a> could not be loaded.'},proto:{initAjax:function(){e.types.push(A),M=e.st.ajax.cursor,S(s+"."+A,j),S("BeforeChange."+A,j)},getAjax:function(i){M&&t(document.body).addClass(M),e.updateStatus("loading");var n=t.extend({url:i.src,success:function(n,o,r){var a={data:n,xhr:r};I("ParseAjax",a),e.appendContent(t(a.data),A),i.finished=!0,B(),e._setFocus(),setTimeout(function(){e.wrap.addClass(g)},16),e.updateStatus("ready"),I("AjaxContentAdded")},error:function(){B(),i.finished=i.loadError=!0,e.updateStatus("error",e.st.ajax.tError.replace("%url%",i.src))}},e.st.ajax.settings);return e.req=t.ajax(n),""}}});var D,N=function(i){if(i.data&&void 0!==i.data.title)return i.data.title;var n=e.st.image.titleSrc;if(n){if(t.isFunction(n))return n.call(e,i);if(i.el)return i.el.attr(n)||""}return""};t.magnificPopup.registerModule("image",{options:{markup:'<div class="mfp-figure"><div class="mfp-close"></div><figure><div class="mfp-img"></div><figcaption><div class="mfp-bottom-bar"><div class="mfp-title"></div><div class="mfp-counter"></div></div></figcaption></figure></div>',cursor:"mfp-zoom-out-cur",titleSrc:"title",verticalFit:!0,tError:'<a href="%url%">The image</a> could not be loaded.'},proto:{initImage:function(){var i=e.st.image,n=".image";e.types.push("image"),S(h+n,function(){"image"===e.currItem.type&&i.cursor&&t(document.body).addClass(i.cursor)}),S(s+n,function(){i.cursor&&t(document.body).removeClass(i.cursor),w.off("resize"+m)}),S("Resize"+n,e.resizeImage),e.isLowIE&&S("AfterChange",e.resizeImage)},resizeImage:function(){var t=e.currItem;if(t&&t.img&&e.st.image.verticalFit){var i=0;e.isLowIE&&(i=parseInt(t.img.css("padding-top"),10)+parseInt(t.img.css("padding-bottom"),10)),t.img.css("max-height",e.wH-i)}},_onImageHasSize:function(t){t.img&&(t.hasSize=!0,D&&clearInterval(D),t.isCheckingImgSize=!1,I("ImageHasSize",t),t.imgHidden&&(e.content&&e.content.removeClass("mfp-loading"),t.imgHidden=!1))},findImageSize:function(t){var i=0,n=t.img[0],o=function(r){D&&clearInterval(D),D=setInterval(function(){return n.naturalWidth>0?void e._onImageHasSize(t):(i>200&&clearInterval(D),i++,void(3===i?o(10):40===i?o(50):100===i&&o(500)))},r)};o(1)},getImage:function(i,n){var o=0,r=function(){i&&(i.img[0].complete?(i.img.off(".mfploader"),i===e.currItem&&(e._onImageHasSize(i),e.updateStatus("ready")),i.hasSize=!0,i.loaded=!0,I("ImageLoadComplete")):(o++,o<200?setTimeout(r,100):a()))},a=function(){i&&(i.img.off(".mfploader"),i===e.currItem&&(e._onImageHasSize(i),e.updateStatus("error",s.tError.replace("%url%",i.src))),i.hasSize=!0,i.loaded=!0,i.loadError=!0)},s=e.st.image,l=n.find(".mfp-img");if(l.length){var c=document.createElement("img");c.className="mfp-img",i.el&&i.el.find("img").length&&(c.alt=i.el.find("img").attr("alt")),i.img=t(c).on("load.mfploader",r).on("error.mfploader",a),c.src=i.src,l.is("img")&&(i.img=i.img.clone()),c=i.img[0],c.naturalWidth>0?i.hasSize=!0:c.width||(i.hasSize=!1)}return e._parseMarkup(n,{title:N(i),img_replaceWith:i.img},i),e.resizeImage(),i.hasSize?(D&&clearInterval(D),i.loadError?(n.addClass("mfp-loading"),e.updateStatus("error",s.tError.replace("%url%",i.src))):(n.removeClass("mfp-loading"),e.updateStatus("ready")),n):(e.updateStatus("loading"),i.loading=!0,i.hasSize||(i.imgHidden=!0,n.addClass("mfp-loading"),e.findImageSize(i)),n)}}});var R,$=function(){return void 0===R&&(R=void 0!==document.createElement("p").style.MozTransform),R};t.magnificPopup.registerModule("zoom",{options:{enabled:!1,easing:"ease-in-out",duration:300,opener:function(t){return t.is("img")?t:t.find("img")}},proto:{initZoom:function(){var t,i=e.st.zoom,n=".zoom";if(i.enabled&&e.supportsTransition){var o,r,a=i.duration,c=function(t){var e=t.clone().removeAttr("style").removeAttr("class").addClass("mfp-animated-image"),n="all "+i.duration/1e3+"s "+i.easing,o={position:"fixed",zIndex:9999,left:0,top:0,"-webkit-backface-visibility":"hidden"},r="transition";return o["-webkit-"+r]=o["-moz-"+r]=o["-o-"+r]=o[r]=n,e.css(o),e},u=function(){e.content.css("visibility","visible")};S("BuildControls"+n,function(){if(e._allowZoom()){if(clearTimeout(o),e.content.css("visibility","hidden"),t=e._getItemToZoom(),!t)return void u();r=c(t),r.css(e._getOffset()),e.wrap.append(r),o=setTimeout(function(){r.css(e._getOffset(!0)),o=setTimeout(function(){u(),setTimeout(function(){r.remove(),t=r=null,I("ZoomAnimationEnded")},16)},a)},16)}}),S(l+n,function(){if(e._allowZoom()){if(clearTimeout(o),e.st.removalDelay=a,!t){if(t=e._getItemToZoom(),!t)return;r=c(t)}r.css(e._getOffset(!0)),e.wrap.append(r),e.content.css("visibility","hidden"),setTimeout(function(){r.css(e._getOffset())},16)}}),S(s+n,function(){e._allowZoom()&&(u(),r&&r.remove(),t=null)})}},_allowZoom:function(){return"image"===e.currItem.type},_getItemToZoom:function(){return!!e.currItem.hasSize&&e.currItem.img},_getOffset:function(i){var n;n=i?e.currItem.img:e.st.zoom.opener(e.currItem.el||e.currItem);var o=n.offset(),r=parseInt(n.css("padding-top"),10),a=parseInt(n.css("padding-bottom"),10);o.top-=t(window).scrollTop()-r;var s={width:n.width(),height:(x?n.innerHeight():n[0].offsetHeight)-a-r};return $()?s["-moz-transform"]=s.transform="translate("+o.left+"px,"+o.top+"px)":(s.left=o.left,s.top=o.top),s}}});var H="iframe",F="//about:blank",W=function(t){if(e.currTemplate[H]){var i=e.currTemplate[H].find("iframe");i.length&&(t||(i[0].src=F),e.isIE8&&i.css("display",t?"block":"none"))}};t.magnificPopup.registerModule(H,{options:{markup:'<div class="mfp-iframe-scaler"><div class="mfp-close"></div><iframe class="mfp-iframe" src="//about:blank" frameborder="0" allowfullscreen></iframe></div>',srcAction:"iframe_src",patterns:{youtube:{index:"youtube.com",id:"v=",src:"//www.youtube.com/embed/%id%?autoplay=1"},vimeo:{index:"vimeo.com/",id:"/",src:"//player.vimeo.com/video/%id%?autoplay=1"},gmaps:{index:"//maps.google.",src:"%id%&output=embed"}}},proto:{initIframe:function(){e.types.push(H),S("BeforeChange",function(t,e,i){e!==i&&(e===H?W():i===H&&W(!0))}),S(s+"."+H,function(){W()})},getIframe:function(i,n){var o=i.src,r=e.st.iframe;t.each(r.patterns,function(){if(o.indexOf(this.index)>-1)return this.id&&(o="string"==typeof this.id?o.substr(o.lastIndexOf(this.id)+this.id.length,o.length):this.id.call(this,o)),o=this.src.replace("%id%",o),!1});var a={};return r.srcAction&&(a[r.srcAction]=o),e._parseMarkup(n,a,i),e.updateStatus("ready"),n}}});var q=function(t){var i=e.items.length;return t>i-1?t-i:t<0?i+t:t},K=function(t,e,i){return t.replace(/%curr%/gi,e+1).replace(/%total%/gi,i)};t.magnificPopup.registerModule("gallery",{options:{enabled:!1,arrowMarkup:'<button title="%title%" type="button" class="mfp-arrow mfp-arrow-%dir%"></button>',preload:[0,2],navigateByImgClick:!0,arrows:!0,tPrev:"Previous (Left arrow key)",tNext:"Next (Right arrow key)",tCounter:"%curr% of %total%"},proto:{initGallery:function(){var i=e.st.gallery,o=".mfp-gallery";return e.direction=!0,!(!i||!i.enabled)&&(r+=" mfp-gallery",S(h+o,function(){i.navigateByImgClick&&e.wrap.on("click"+o,".mfp-img",function(){if(e.items.length>1)return e.next(),!1}),n.on("keydown"+o,function(t){37===t.keyCode?e.prev():39===t.keyCode&&e.next()})}),S("UpdateStatus"+o,function(t,i){i.text&&(i.text=K(i.text,e.currItem.index,e.items.length))}),S(d+o,function(t,n,o,r){var a=e.items.length;o.counter=a>1?K(i.tCounter,r.index,a):""}),S("BuildControls"+o,function(){if(e.items.length>1&&i.arrows&&!e.arrowLeft){var n=i.arrowMarkup,o=e.arrowLeft=t(n.replace(/%title%/gi,i.tPrev).replace(/%dir%/gi,"left")).addClass(y),r=e.arrowRight=t(n.replace(/%title%/gi,i.tNext).replace(/%dir%/gi,"right")).addClass(y);o.click(function(){e.prev()}),r.click(function(){e.next()}),e.container.append(o.add(r))}}),S(f+o,function(){e._preloadTimeout&&clearTimeout(e._preloadTimeout),e._preloadTimeout=setTimeout(function(){e.preloadNearbyImages(),e._preloadTimeout=null},16)}),void S(s+o,function(){n.off(o),e.wrap.off("click"+o),e.arrowRight=e.arrowLeft=null}))},next:function(){e.direction=!0,e.index=q(e.index+1),e.updateItemHTML()},prev:function(){e.direction=!1,e.index=q(e.index-1),e.updateItemHTML()},goTo:function(t){e.direction=t>=e.index,e.index=t,e.updateItemHTML()},preloadNearbyImages:function(){var t,i=e.st.gallery.preload,n=Math.min(i[0],e.items.length),o=Math.min(i[1],e.items.length);for(t=1;t<=(e.direction?o:n);t++)e._preloadItem(e.index+t);for(t=1;t<=(e.direction?n:o);t++)e._preloadItem(e.index-t)},_preloadItem:function(i){if(i=q(i),!e.items[i].preloaded){var n=e.items[i];n.parsed||(n=e.parseEl(i)),I("LazyLoad",n),"image"===n.type&&(n.img=t('<img class="mfp-img" />').on("load.mfploader",function(){n.hasSize=!0}).on("error.mfploader",function(){n.hasSize=!0,n.loadError=!0,I("LazyLoadError",n)}).attr("src",n.src)),n.preloaded=!0}}}});var Y="retina";t.magnificPopup.registerModule(Y,{options:{replaceSrc:function(t){return t.src.replace(/\.\w+$/,function(t){return"@2x"+t})},ratio:1},proto:{initRetina:function(){if(window.devicePixelRatio>1){var t=e.st.retina,i=t.ratio;i=isNaN(i)?i():i,i>1&&(S("ImageHasSize."+Y,function(t,e){e.img.css({"max-width":e.img[0].naturalWidth/i,width:"100%"})}),S("ElementParse."+Y,function(e,n){n.src=t.replaceSrc(n,i)}))}}}}),z()}),function(t,e,i){"use strict";function n(e,m,g){function j(i){var n=0,o=Lt.length;if(It.old=t.extend({},It),St=bt?0:xt[vt.horizontal?"width":"height"](),Et=_t[vt.horizontal?"width":"height"](),Ct=bt?e:wt[vt.horizontal?"outerWidth":"outerHeight"](),Lt.length=0,It.start=0,It.end=M(Ct-St,0),Wt){n=At.length,Mt=wt.children(vt.itemSelector),At.length=0;var r,a=c(wt,vt.horizontal?"paddingLeft":"paddingTop"),s=c(wt,vt.horizontal?"paddingRight":"paddingBottom"),l="border-box"===t(Mt).css("boxSizing"),d="none"!==Mt.css("float"),h=0,f=Mt.length-1;Ct=0,Mt.each(function(e,i){var n=t(i),o=i.getBoundingClientRect(),l=L(vt.horizontal?o.width||o.right-o.left:o.height||o.bottom-o.top),u=c(n,vt.horizontal?"marginLeft":"marginTop"),p=c(n,vt.horizontal?"marginRight":"marginBottom"),m=l+u+p,g=!u||!p,v={};v.el=i,v.size=g?l:m,v.half=v.size/2,v.start=Ct+(g?u:0),v.center=v.start-L(St/2-v.size/2),v.end=v.start-St+v.size,
e||(Ct+=a),Ct+=m,vt.horizontal||d||p&&u&&e>0&&(Ct-=A(u,p)),e===f&&(v.end+=s,Ct+=s,h=g?p:0),At.push(v),r=v}),wt[0].style[vt.horizontal?"width":"height"]=(l?Ct:Ct-a-s)+"px",Ct-=h,At.length?(It.start=At[0][Ht?"center":"start"],It.end=Ht?r.center:St<Ct?r.end:It.start):It.start=It.end=0}if(It.center=L(It.end/2+It.start/2),U(),zt.length&&Et>0&&(vt.dynamicHandle?(kt=It.start===It.end?Et:L(Et*St/Ct),kt=u(kt,vt.minHandleSize,Et),zt[0].style[vt.horizontal?"width":"height"]=kt+"px"):kt=zt[vt.horizontal?"outerWidth":"outerHeight"](),Pt.end=Et-kt,oe||R()),!bt&&St>0){var p=It.start,m="";if(Wt)t.each(At,function(t,e){Ht?Lt.push(e.center):e.start+e.size>p&&p<=It.end&&(p=e.start,Lt.push(p),p+=St,p>It.end&&p<It.end+St&&Lt.push(It.end))});else for(;p-St<It.end;)Lt.push(p),p+=St;if(Ot[0]&&o!==Lt.length){for(var g=0;g<Lt.length;g++)m+=vt.pageBuilder.call(yt,g);Tt=Ot.html(m).children(),Tt.eq(Bt.activePage).addClass(vt.activeClass)}}if(Bt.slideeSize=Ct,Bt.frameSize=St,Bt.sbSize=Et,Bt.handleSize=kt,Wt){i&&null!=vt.startAt&&(K(vt.startAt),yt[Ft?"toCenter":"toStart"](vt.startAt));var v=At[Bt.activeItem];D(Ft&&v?v.center:u(It.dest,It.start,It.end))}else i?null!=vt.startAt&&D(vt.startAt,1):D(u(It.dest,It.start,It.end));pt("load")}function D(t,e,i){if(Wt&&ie.released&&!i){var n=Y(t),o=t>It.start&&t<It.end;Ft?(o&&(t=At[n.centerItem].center),Ht&&vt.activateMiddle&&K(n.centerItem)):o&&(t=At[n.firstItem].start)}ie.init&&ie.slidee&&vt.elasticBounds?t>It.end?t=It.end+(t-It.end)/6:t<It.start&&(t=It.start+(t-It.start)/6):t=u(t,It.start,It.end),te.start=+new Date,te.time=0,te.from=It.cur,te.to=t,te.delta=t-It.cur,te.tweesing=ie.tweese||ie.init&&!ie.slidee,te.immediate=!te.tweesing&&(e||ie.init&&ie.slidee||!vt.speed),ie.tweese=0,t!==It.dest&&(It.dest=t,pt("change"),oe||N()),Q(),U(),X(),$()}function N(){if(yt.initialized){if(!oe)return oe=b(N),void(ie.released&&pt("moveStart"));te.immediate?It.cur=te.to:te.tweesing?(te.tweeseDelta=te.to-It.cur,P(te.tweeseDelta)<.1?It.cur=te.to:It.cur+=te.tweeseDelta*(ie.released?vt.swingSpeed:vt.syncSpeed)):(te.time=A(+new Date-te.start,vt.speed),It.cur=te.from+te.delta*t.easing[vt.easing](te.time/vt.speed,te.time,0,1,vt.speed)),te.to===It.cur?(It.cur=te.to,ie.tweese=oe=0):oe=b(N),pt("move"),bt||(h?wt[0].style[h]=f+(vt.horizontal?"translateX":"translateY")+"("+-It.cur+"px)":wt[0].style[vt.horizontal?"left":"top"]=-L(It.cur)+"px"),!oe&&ie.released&&pt("moveEnd"),R()}}function R(){zt.length&&(Pt.cur=It.start===It.end?0:((ie.init&&!ie.slidee?It.dest:It.cur)-It.start)/(It.end-It.start)*Pt.end,Pt.cur=u(L(Pt.cur),Pt.start,Pt.end),Jt.hPos!==Pt.cur&&(Jt.hPos=Pt.cur,h?zt[0].style[h]=f+(vt.horizontal?"translateX":"translateY")+"("+Pt.cur+"px)":zt[0].style[vt.horizontal?"left":"top"]=Pt.cur+"px"))}function $(){Tt[0]&&Jt.page!==Bt.activePage&&(Jt.page=Bt.activePage,Tt.removeClass(vt.activeClass).eq(Bt.activePage).addClass(vt.activeClass),pt("activePage",Jt.page))}function H(){ee.speed&&It.cur!==(ee.speed>0?It.end:It.start)||yt.stop(),se=ie.init?b(H):0,ee.now=+new Date,ee.pos=It.cur+(ee.now-ee.lastTime)/1e3*ee.speed,D(ie.init?ee.pos:L(ee.pos)),ie.init||It.cur!==It.dest||pt("moveEnd"),ee.lastTime=ee.now}function F(t,e,n){if("boolean"===o(e)&&(n=e,e=i),e===i)D(It[t],n);else{if(Ft&&"center"!==t)return;var r=yt.getPos(e);r&&D(r[t],n,!Ft)}}function W(t){return null!=t?l(t)?t>=0&&t<At.length?t:-1:Mt.index(t):-1}function q(t){return W(l(t)&&t<0?t+At.length:t)}function K(t,e){var i=W(t);return!(!Wt||i<0)&&((Jt.active!==i||e)&&(Mt.eq(Bt.activeItem).removeClass(vt.activeClass),Mt.eq(i).addClass(vt.activeClass),Jt.active=Bt.activeItem=i,X(),pt("active",i)),i)}function Y(t){t=u(l(t)?t:It.dest,It.start,It.end);var e={},i=Ht?0:St/2;if(!bt)for(var n=0,o=Lt.length;n<o;n++){if(t>=It.end||n===Lt.length-1){e.activePage=Lt.length-1;break}if(t<=Lt[n]+i){e.activePage=n;break}}if(Wt){for(var r=!1,a=!1,s=!1,c=0,d=At.length;c<d;c++)if(r===!1&&t<=At[c].start+At[c].half&&(r=c),s===!1&&t<=At[c].center+At[c].half&&(s=c),c===d-1||t<=At[c].end+At[c].half){a=c;break}e.firstItem=l(r)?r:0,e.centerItem=l(s)?s:e.firstItem,e.lastItem=l(a)?a:e.centerItem}return e}function U(e){t.extend(Bt,Y(e))}function X(){var t=It.dest<=It.start,e=It.dest>=It.end,i=(t?1:0)|(e?2:0);if(Jt.slideePosState!==i&&(Jt.slideePosState=i,Gt.is("button,input")&&Gt.prop("disabled",t),Qt.is("button,input")&&Qt.prop("disabled",e),Gt.add(Ut)[t?"addClass":"removeClass"](vt.disabledClass),Qt.add(Yt)[e?"addClass":"removeClass"](vt.disabledClass)),Jt.fwdbwdState!==i&&ie.released&&(Jt.fwdbwdState=i,Ut.is("button,input")&&Ut.prop("disabled",t),Yt.is("button,input")&&Yt.prop("disabled",e)),Wt&&null!=Bt.activeItem){var n=0===Bt.activeItem,o=Bt.activeItem>=At.length-1,r=(n?1:0)|(o?2:0);Jt.itemsButtonState!==r&&(Jt.itemsButtonState=r,Xt.is("button,input")&&Xt.prop("disabled",n),Vt.is("button,input")&&Vt.prop("disabled",o),Xt[n?"addClass":"removeClass"](vt.disabledClass),Vt[o?"addClass":"removeClass"](vt.disabledClass))}}function V(t,e,i){if(t=q(t),e=q(e),t>-1&&e>-1&&t!==e&&(!i||e!==t-1)&&(i||e!==t+1)){Mt.eq(t)[i?"insertAfter":"insertBefore"](At[e].el);var n=t<e?t:i?e:e-1,o=t>e?t:i?e+1:e,r=t>e;null!=Bt.activeItem&&(t===Bt.activeItem?Jt.active=Bt.activeItem=i?r?e+1:e:r?e:e-1:Bt.activeItem>n&&Bt.activeItem<o&&(Jt.active=Bt.activeItem+=r?1:-1)),j()}}function G(t,e){for(var i=0,n=Zt[t].length;i<n;i++)if(Zt[t][i]===e)return i;return-1}function Q(){ie.released&&!yt.isPaused&&yt.resume()}function Z(t){return L(u(t,Pt.start,Pt.end)/Pt.end*(It.end-It.start))+It.start}function J(){ie.history[0]=ie.history[1],ie.history[1]=ie.history[2],ie.history[2]=ie.history[3],ie.history[3]=ie.delta}function tt(t){ie.released=0,ie.source=t,ie.slidee="slidee"===t}function et(e){var i="touchstart"===e.type,n=e.data.source,o="slidee"===n;ie.init||!i&&ot(e.target)||("handle"!==n||vt.dragHandle&&Pt.start!==Pt.end)&&(o&&!(i?vt.touchDragging:vt.mouseDragging&&e.which<2)||(i||r(e),tt(n),ie.init=0,ie.$source=t(e.target),ie.touch=i,ie.pointer=i?e.originalEvent.touches[0]:e,ie.initX=ie.pointer.pageX,ie.initY=ie.pointer.pageY,ie.initPos=o?It.cur:Pt.cur,ie.start=+new Date,ie.time=0,ie.path=0,ie.delta=0,ie.locked=0,ie.history=[0,0,0,0],ie.pathToLock=o?i?30:10:0,x.on(i?C:S,it),yt.pause(1),(o?wt:zt).addClass(vt.draggedClass),pt("moveStart"),o&&(re=setInterval(J,10))))}function it(t){if(ie.released="mouseup"===t.type||"touchend"===t.type,ie.pointer=ie.touch?t.originalEvent[ie.released?"changedTouches":"touches"][0]:t,ie.pathX=ie.pointer.pageX-ie.initX,ie.pathY=ie.pointer.pageY-ie.initY,ie.path=O(T(ie.pathX,2)+T(ie.pathY,2)),ie.delta=vt.horizontal?ie.pathX:ie.pathY,ie.released||!(ie.path<1)){if(!ie.init){if(ie.path<vt.dragThreshold)return ie.released?nt():i;if(!(vt.horizontal?P(ie.pathX)>P(ie.pathY):P(ie.pathX)<P(ie.pathY)))return nt();ie.init=1}r(t),!ie.locked&&ie.path>ie.pathToLock&&ie.slidee&&(ie.locked=1,ie.$source.on(_,a)),ie.released&&(nt(),vt.releaseSwing&&ie.slidee&&(ie.swing=(ie.delta-ie.history[0])/40*300,ie.delta+=ie.swing,ie.tweese=P(ie.swing)>10)),D(ie.slidee?L(ie.initPos-ie.delta):Z(ie.initPos+ie.delta))}}function nt(){clearInterval(re),ie.released=!0,x.off(ie.touch?C:S,it),(ie.slidee?wt:zt).removeClass(vt.draggedClass),setTimeout(function(){ie.$source.off(_,a)}),It.cur===It.dest&&ie.init&&pt("moveEnd"),yt.resume(1),ie.init=0}function ot(e){return~t.inArray(e.nodeName,E)||t(e).is(vt.interactive)}function rt(){yt.stop(),x.off("mouseup",rt)}function at(t){switch(r(t),this){case Yt[0]:case Ut[0]:yt.moveBy(Yt.is(this)?vt.moveBy:-vt.moveBy),x.on("mouseup",rt);break;case Xt[0]:yt.prev();break;case Vt[0]:yt.next();break;case Gt[0]:yt.prevPage();break;case Qt[0]:yt.nextPage()}}function st(t){return ne.curDelta=(vt.horizontal?t.deltaY||t.deltaX:t.deltaY)||-t.wheelDelta,ne.curDelta/=1===t.deltaMode?3:100,Wt?(p=+new Date,ne.last<p-ne.resetTime&&(ne.delta=0),ne.last=p,ne.delta+=ne.curDelta,P(ne.delta)<1?ne.finalDelta=0:(ne.finalDelta=L(ne.delta/1),ne.delta%=1),ne.finalDelta):ne.curDelta}function lt(t){t.originalEvent[v]=yt;var e=+new Date;if(B+vt.scrollHijack>e&&qt[0]!==document&&qt[0]!==window)return void(B=e);if(vt.scrollBy&&It.start!==It.end){var i=st(t.originalEvent);(vt.scrollTrap||i>0&&It.dest<It.end||i<0&&It.dest>It.start)&&r(t,1),yt.slideBy(vt.scrollBy*i)}}function ct(t){vt.clickBar&&t.target===_t[0]&&(r(t),D(Z((vt.horizontal?t.pageX-_t.offset().left:t.pageY-_t.offset().top)-kt/2)))}function ut(t){if(vt.keyboardNavBy)switch(t.which){case vt.horizontal?37:38:r(t),yt["pages"===vt.keyboardNavBy?"prevPage":"prev"]();break;case vt.horizontal?39:40:r(t),yt["pages"===vt.keyboardNavBy?"nextPage":"next"]()}}function dt(t){return ot(this)?void(t.originalEvent[v+"ignore"]=!0):void(this.parentNode!==wt[0]||t.originalEvent[v+"ignore"]||yt.activate(this))}function ht(){this.parentNode===Ot[0]&&yt.activatePage(Tt.index(this))}function ft(t){vt.pauseOnHover&&yt["mouseenter"===t.type?"pause":"resume"](2)}function pt(t,e){if(Zt[t]){for(gt=Zt[t].length,k.length=0,mt=0;mt<gt;mt++)k.push(Zt[t][mt]);for(mt=0;mt<gt;mt++)k[mt].call(yt,t,e)}}if(!(this instanceof n))return new n(e,m,g);var mt,gt,vt=t.extend({},n.defaults,m),yt=this,bt=l(e),xt=t(e),wt=vt.slidee?t(vt.slidee).eq(0):xt.children().eq(0),St=0,Ct=0,It={start:0,center:0,end:0,cur:0,dest:0},_t=t(vt.scrollBar).eq(0),zt=_t.children().eq(0),Et=0,kt=0,Pt={start:0,end:0,cur:0},Ot=t(vt.pagesBar),Tt=0,Lt=[],Mt=0,At=[],Bt={firstItem:0,lastItem:0,centerItem:0,activeItem:null,activePage:0},jt=new d(xt[0]),Dt=new d(wt[0]),Nt=new d(_t[0]),Rt=new d(zt[0]),$t="basic"===vt.itemNav,Ht="forceCentered"===vt.itemNav,Ft="centered"===vt.itemNav||Ht,Wt=!bt&&($t||Ft||Ht),qt=vt.scrollSource?t(vt.scrollSource):xt,Kt=vt.dragSource?t(vt.dragSource):xt,Yt=t(vt.forward),Ut=t(vt.backward),Xt=t(vt.prev),Vt=t(vt.next),Gt=t(vt.prevPage),Qt=t(vt.nextPage),Zt={},Jt={},te={},ee={},ie={released:1},ne={last:0,delta:0,resetTime:200},oe=0,re=0,ae=0,se=0;bt||(e=xt[0]),yt.initialized=0,yt.frame=e,yt.slidee=wt[0],yt.pos=It,yt.rel=Bt,yt.items=At,yt.pages=Lt,yt.isPaused=0,yt.options=vt,yt.dragging=ie,yt.reload=function(){j()},yt.getPos=function(t){if(Wt){var e=W(t);return e!==-1&&At[e]}var i=wt.find(t).eq(0);if(i[0]){var n=vt.horizontal?i.offset().left-wt.offset().left:i.offset().top-wt.offset().top,o=i[vt.horizontal?"outerWidth":"outerHeight"]();return{start:n,center:n-St/2+o/2,end:n-St+o,size:o}}return!1},yt.moveBy=function(t){ee.speed=t,!ie.init&&ee.speed&&It.cur!==(ee.speed>0?It.end:It.start)&&(ee.lastTime=+new Date,ee.startPos=It.cur,tt("button"),ie.init=1,pt("moveStart"),y(se),H())},yt.stop=function(){"button"===ie.source&&(ie.init=0,ie.released=1)},yt.prev=function(){yt.activate(null==Bt.activeItem?0:Bt.activeItem-1)},yt.next=function(){yt.activate(null==Bt.activeItem?0:Bt.activeItem+1)},yt.prevPage=function(){yt.activatePage(Bt.activePage-1)},yt.nextPage=function(){yt.activatePage(Bt.activePage+1)},yt.slideBy=function(t,e){t&&(Wt?yt[Ft?"toCenter":"toStart"](u((Ft?Bt.centerItem:Bt.firstItem)+vt.scrollBy*t,0,At.length)):D(It.dest+t,e))},yt.slideTo=function(t,e){D(t,e)},yt.toStart=function(t,e){F("start",t,e)},yt.toEnd=function(t,e){F("end",t,e)},yt.toCenter=function(t,e){F("center",t,e)},yt.getIndex=W,yt.activate=function(t,e){var i=K(t);vt.smart&&i!==!1&&(Ft?yt.toCenter(i,e):i>=Bt.lastItem?yt.toStart(i,e):i<=Bt.firstItem?yt.toEnd(i,e):Q())},yt.activatePage=function(t,e){l(t)&&D(Lt[u(t,0,Lt.length-1)],e)},yt.resume=function(t){vt.cycleBy&&vt.cycleInterval&&("items"!==vt.cycleBy||At[0]&&null!=Bt.activeItem)&&!(t<yt.isPaused)&&(yt.isPaused=0,ae?ae=clearTimeout(ae):pt("resume"),ae=setTimeout(function(){switch(pt("cycle"),vt.cycleBy){case"items":yt.activate(Bt.activeItem>=At.length-1?0:Bt.activeItem+1);break;case"pages":yt.activatePage(Bt.activePage>=Lt.length-1?0:Bt.activePage+1)}},vt.cycleInterval))},yt.pause=function(t){t<yt.isPaused||(yt.isPaused=t||100,ae&&(ae=clearTimeout(ae),pt("pause")))},yt.toggle=function(){yt[ae?"pause":"resume"]()},yt.set=function(e,i){t.isPlainObject(e)?t.extend(vt,e):vt.hasOwnProperty(e)&&(vt[e]=i)},yt.add=function(e,i){var n=t(e);Wt?(null==i||!At[0]||i>=At.length?n.appendTo(wt):At.length&&n.insertBefore(At[i].el),null!=Bt.activeItem&&i<=Bt.activeItem&&(Jt.active=Bt.activeItem+=n.length)):wt.append(n),j()},yt.remove=function(e){if(Wt){var i=q(e);if(i>-1){Mt.eq(i).remove();var n=i===Bt.activeItem;null!=Bt.activeItem&&i<Bt.activeItem&&(Jt.active=--Bt.activeItem),j(),n&&(Jt.active=null,yt.activate(Bt.activeItem))}}else t(e).remove(),j()},yt.moveAfter=function(t,e){V(t,e,1)},yt.moveBefore=function(t,e){V(t,e)},yt.on=function(t,e){if("object"===o(t))for(var i in t)t.hasOwnProperty(i)&&yt.on(i,t[i]);else if("function"===o(e))for(var n=t.split(" "),r=0,a=n.length;r<a;r++)Zt[n[r]]=Zt[n[r]]||[],G(n[r],e)===-1&&Zt[n[r]].push(e);else if("array"===o(e))for(var s=0,l=e.length;s<l;s++)yt.on(t,e[s])},yt.one=function(t,e){function i(){e.apply(yt,arguments),yt.off(t,i)}yt.on(t,i)},yt.off=function(t,e){if(e instanceof Array)for(var i=0,n=e.length;i<n;i++)yt.off(t,e[i]);else for(var o=t.split(" "),r=0,a=o.length;r<a;r++)if(Zt[o[r]]=Zt[o[r]]||[],null==e)Zt[o[r]].length=0;else{var s=G(o[r],e);s!==-1&&Zt[o[r]].splice(s,1)}},yt.destroy=function(){return n.removeInstance(e),qt.add(zt).add(_t).add(Ot).add(Yt).add(Ut).add(Xt).add(Vt).add(Gt).add(Qt).off("."+v),x.off("keydown",ut),Xt.add(Vt).add(Gt).add(Qt).removeClass(vt.disabledClass),Mt&&null!=Bt.activeItem&&Mt.eq(Bt.activeItem).removeClass(vt.activeClass),Ot.empty(),bt||(xt.off("."+v),jt.restore(),Dt.restore(),Nt.restore(),Rt.restore(),t.removeData(e,v)),At.length=Lt.length=0,Jt={},yt.initialized=0,yt},yt.init=function(){if(!yt.initialized){if(n.getInstance(e))throw new Error("There is already a Sly instance on this element");n.storeInstance(e,yt),yt.on(g);var t=["overflow","position"],i=["position","webkitTransform","msTransform","transform","left","top","width","height"];jt.save.apply(jt,t),Nt.save.apply(Nt,t),Dt.save.apply(Dt,i),Rt.save.apply(Rt,i);var o=zt;return bt||(o=o.add(wt),xt.css("overflow","hidden"),h||"static"!==xt.css("position")||xt.css("position","relative")),h?f&&o.css(h,f):("static"===_t.css("position")&&_t.css("position","relative"),o.css({position:"absolute"})),vt.forward&&Yt.on(z,at),vt.backward&&Ut.on(z,at),vt.prev&&Xt.on(_,at),vt.next&&Vt.on(_,at),vt.prevPage&&Gt.on(_,at),vt.nextPage&&Qt.on(_,at),qt.on(I,lt),_t[0]&&_t.on(_,ct),Wt&&vt.activateOn&&xt.on(vt.activateOn+"."+v,"*",dt),Ot[0]&&vt.activatePageOn&&Ot.on(vt.activatePageOn+"."+v,"*",ht),Kt.on(w,{source:"slidee"},et),zt&&zt.on(w,{source:"handle"},et),x.on("keydown",ut),bt||(xt.on("mouseenter."+v+" mouseleave."+v,ft),xt.on("scroll."+v,s)),yt.initialized=1,j(!0),vt.cycleBy&&!bt&&yt[vt.startPaused?"pause":"resume"](),yt}}}function o(t){return null==t?String(t):"object"==typeof t||"function"==typeof t?Object.prototype.toString.call(t).match(/\s([a-z]+)/i)[1].toLowerCase()||"object":typeof t}function r(t,e){t.preventDefault(),e&&t.stopPropagation()}function a(e){r(e,1),t(this).off(e.type,a)}function s(){this.scrollLeft=0,this.scrollTop=0}function l(t){return!isNaN(parseFloat(t))&&isFinite(t)}function c(t,e){return 0|L(String(t.css(e)).replace(/[^\-0-9.]/g,""))}function u(t,e,i){return t<e?e:t>i?i:t}function d(t){var e={};return e.style={},e.save=function(){if(t&&t.nodeType){for(var i=0;i<arguments.length;i++)e.style[arguments[i]]=t.style[arguments[i]];return e}},e.restore=function(){if(t&&t.nodeType){for(var i in e.style)e.style.hasOwnProperty(i)&&(t.style[i]=e.style[i]);return e}},e}var h,f,p,m="sly",g="Sly",v=m,y=e.cancelAnimationFrame||e.cancelRequestAnimationFrame,b=e.requestAnimationFrame,x=t(document),w="touchstart."+v+" mousedown."+v,S="mousemove."+v+" mouseup."+v,C="touchmove."+v+" touchend."+v,I=(document.implementation.hasFeature("Event.wheel","3.0")?"wheel.":"mousewheel.")+v,_="click."+v,z="mousedown."+v,E=["INPUT","SELECT","BUTTON","TEXTAREA"],k=[],P=Math.abs,O=Math.sqrt,T=Math.pow,L=Math.round,M=Math.max,A=Math.min,B=0;x.on(I,function(t){var e=t.originalEvent[v],i=+new Date;(!e||e.options.scrollHijack<i-B)&&(B=i)}),n.getInstance=function(e){return t.data(e,v)},n.storeInstance=function(e,i){return t.data(e,v,i)},n.removeInstance=function(e){return t.removeData(e,v)},function(t){function e(t){var e=(new Date).getTime(),n=Math.max(0,16-(e-i)),o=setTimeout(t,n);return i=e,o}b=t.requestAnimationFrame||t.webkitRequestAnimationFrame||e;var i=(new Date).getTime(),n=t.cancelAnimationFrame||t.webkitCancelAnimationFrame||t.clearTimeout;y=function(e){n.call(t,e)}}(window),function(){function t(t){for(var n=0,o=e.length;n<o;n++){var r=e[n]?e[n]+t.charAt(0).toUpperCase()+t.slice(1):t;if(null!=i.style[r])return r}}var e=["","Webkit","Moz","ms","O"],i=document.createElement("div");h=t("transform"),f=t("perspective")?"translateZ(0) ":""}(),e[g]=n,t.fn[m]=function(e,i){var r,a;return t.isPlainObject(e)||("string"!==o(e)&&e!==!1||(r=e===!1?"destroy":e,a=Array.prototype.slice.call(arguments,1)),e={}),this.each(function(t,o){var s=n.getInstance(o);s||r?s&&r&&s[r]&&s[r].apply(s,a):s=new n(o,e,i).init()})},n.defaults={slidee:null,horizontal:!1,itemNav:null,itemSelector:null,smart:!1,activateOn:null,activateMiddle:!1,scrollSource:null,scrollBy:0,scrollHijack:300,scrollTrap:!1,dragSource:null,mouseDragging:!1,touchDragging:!1,releaseSwing:!1,swingSpeed:.2,elasticBounds:!1,dragThreshold:3,interactive:null,scrollBar:null,dragHandle:!1,dynamicHandle:!1,minHandleSize:50,clickBar:!1,syncSpeed:.5,pagesBar:null,activatePageOn:null,pageBuilder:function(t){return"<li>"+(t+1)+"</li>"},forward:null,backward:null,prev:null,next:null,prevPage:null,nextPage:null,cycleBy:null,cycleInterval:5e3,pauseOnHover:!1,startPaused:!1,moveBy:300,speed:0,easing:"swing",startAt:null,keyboardNavBy:null,draggedClass:"dragged",activeClass:"active",disabledClass:"disabled"}}(jQuery,window),jQuery.trumbowyg={langs:{en:{viewHTML:"View HTML",undo:"Undo",redo:"Redo",formatting:"Formatting",p:"Paragraph",blockquote:"Quote",code:"Code",header:"Header",bold:"Bold",italic:"Italic",strikethrough:"Stroke",underline:"Underline",strong:"Strong",em:"Emphasis",del:"Deleted",superscript:"Superscript",subscript:"Subscript",unorderedList:"Unordered list",orderedList:"Ordered list",insertImage:"Insert Image",link:"Link",createLink:"Insert link",unlink:"Remove link",justifyLeft:"Align Left",justifyCenter:"Align Center",justifyRight:"Align Right",justifyFull:"Align Justify",horizontalRule:"Insert horizontal rule",removeformat:"Remove format",fullscreen:"Fullscreen",close:"Close",submit:"Confirm",reset:"Cancel",required:"Required",description:"Description",title:"Title",text:"Text",target:"Target"}},plugins:{},svgPath:null},function(t,e,i,n){"use strict";n.fn.trumbowyg=function(t,e){var i="trumbowyg";if(t===Object(t)||!t)return this.each(function(){n(this).data(i)||n(this).data(i,new o(this,t))});if(1===this.length)try{var r=n(this).data(i);switch(t){case"execCmd":return r.execCmd(e.cmd,e.param,e.forceCss);case"openModal":return r.openModal(e.title,e.content);case"closeModal":return r.closeModal();case"openModalInsert":return r.openModalInsert(e.title,e.fields,e.callback);case"saveRange":return r.saveRange();case"getRange":return r.range;case"getRangeText":return r.getRangeText();case"restoreRange":return r.restoreRange();case"enable":return r.toggleDisable(!1);case"disable":return r.toggleDisable(!0);case"destroy":return r.destroy();case"empty":return r.empty();case"html":return r.html(e)}}catch(t){}return!1};var o=function(t,o){var r=this,a="trumbowyg-icons";r.doc=t.ownerDocument||i,r.$ta=n(t),r.$c=n(t),o=o||{},null!=o.lang||null!=n.trumbowyg.langs[o.lang]?r.lang=n.extend(!0,{},n.trumbowyg.langs.en,n.trumbowyg.langs[o.lang]):r.lang=n.trumbowyg.langs.en;var s=null!=n.trumbowyg.svgPath?n.trumbowyg.svgPath:o.svgPath;if(r.hasSvg=s!==!1,r.svgPath=r.doc.querySelector("base")?e.location:"",0===n("#"+a,r.doc).length&&s!==!1){if(null==s)try{throw new Error}catch(t){var l=t.stack.split("\n");for(var c in l)if(l[c].match(/http[s]?:\/\//)){s=l[Number(c)].match(/((http[s]?:\/\/.+\/)([^\/]+\.js)):/)[1].split("/"),s.pop(),s=s.join("/")+"/ui/icons.svg";break}}var u=r.doc.createElement("div");u.id=a,r.doc.body.insertBefore(u,r.doc.body.childNodes[0]),n.get(s,function(t){u.innerHTML=(new XMLSerializer).serializeToString(t.documentElement)})}var d=r.lang.header,h=function(){return(e.chrome||e.Intl&&Intl.v8BreakIterator)&&"CSS"in e};r.btnsDef={viewHTML:{fn:"toggle"},undo:{isSupported:h,key:"Z"},redo:{isSupported:h,key:"Y"},p:{fn:"formatBlock"},blockquote:{fn:"formatBlock"},h1:{fn:"formatBlock",title:d+" 1"},h2:{fn:"formatBlock",title:d+" 2"},h3:{fn:"formatBlock",title:d+" 3"},h4:{fn:"formatBlock",title:d+" 4"},subscript:{tag:"sub"},superscript:{tag:"sup"},bold:{key:"B"},italic:{key:"I"},underline:{tag:"u"},strikethrough:{tag:"strike"},strong:{fn:"bold",key:"B"},em:{fn:"italic",key:"I"},del:{fn:"strikethrough"},createLink:{key:"K",tag:"a"},unlink:{},insertImage:{},justifyLeft:{tag:"left",forceCss:!0},justifyCenter:{tag:"center",forceCss:!0},justifyRight:{tag:"right",forceCss:!0},justifyFull:{tag:"justify",forceCss:!0},unorderedList:{fn:"insertUnorderedList",tag:"ul"},orderedList:{fn:"insertOrderedList",tag:"ol"},horizontalRule:{fn:"insertHorizontalRule"},removeformat:{},fullscreen:{class:"trumbowyg-not-disable"},close:{fn:"destroy",class:"trumbowyg-not-disable"},formatting:{dropdown:["p","blockquote","h1","h2","h3","h4"],ico:"p"},link:{dropdown:["createLink","unlink"]}},r.o=n.extend(!0,{},{lang:"en",fixedBtnPane:!1,fixedFullWidth:!1,autogrow:!1,prefix:"trumbowyg-",semantic:!0,resetCss:!1,removeformatPasted:!1,tagsToRemove:[],btnsGrps:{design:["bold","italic","underline","strikethrough"],semantic:["strong","em","del"],justify:["justifyLeft","justifyCenter","justifyRight","justifyFull"],lists:["unorderedList","orderedList"]},btns:[["viewHTML"],["undo","redo"],["formatting"],"btnGrp-semantic",["superscript","subscript"],["link"],["insertImage"],"btnGrp-justify","btnGrp-lists",["horizontalRule"],["removeformat"],["fullscreen"]],btnsDef:{},inlineElementsSelector:"a,abbr,acronym,b,caption,cite,code,col,dfn,dir,dt,dd,em,font,hr,i,kbd,li,q,span,strikeout,strong,sub,sup,u",pasteHandlers:[],imgDblClickHandler:function(){var t=n(this),e=t.attr("src"),i="(Base64)";return 0===e.indexOf("data:image")&&(e=i),r.openModalInsert(r.lang.insertImage,{url:{label:"URL",value:e,required:!0},alt:{label:r.lang.description,value:t.attr("alt")}},function(e){return e.src!==i&&t.attr({src:e.src}),t.attr({alt:e.alt}),!0}),!1},plugins:{}},o),r.disabled=r.o.disabled||"TEXTAREA"===t.nodeName&&t.disabled,o.btns?r.o.btns=o.btns:r.o.semantic||(r.o.btns[4]="btnGrp-design"),n.each(r.o.btnsDef,function(t,e){r.addBtnDef(t,e)}),r.keys=[],r.tagToButton={},r.tagHandlers=[],r.pasteHandlers=[].concat(r.o.pasteHandlers),r.init()};o.prototype={init:function(){var t=this;t.height=t.$ta.height(),t.initPlugins(),t.doc.execCommand("enableObjectResizing",!1,!1),t.doc.execCommand("defaultParagraphSeparator",!1,"p"),t.buildEditor(),t.buildBtnPane(),t.fixedBtnPaneEvents(),t.buildOverlay(),setTimeout(function(){t.disabled&&t.toggleDisable(!0),t.$c.trigger("tbwinit")})},addBtnDef:function(t,e){this.btnsDef[t]=e},buildEditor:function(){var t=this,i=t.o.prefix,o="";t.$box=n("<div/>",{class:i+"box "+i+"editor-visible "+i+t.o.lang+" trumbowyg"}),t.isTextarea=t.$ta.is("textarea"),t.isTextarea?(o=t.$ta.val(),t.$ed=n("<div/>"),t.$box.insertAfter(t.$ta).append(t.$ed,t.$ta)):(t.$ed=t.$ta,o=t.$ed.html(),t.$ta=n("<textarea/>",{name:t.$ta.attr("id"),height:t.height}).val(o),t.$box.insertAfter(t.$ed).append(t.$ta,t.$ed),t.syncCode()),t.$ta.addClass(i+"textarea").attr("tabindex",-1),t.$ed.addClass(i+"editor").attr({contenteditable:!0,dir:t.lang._dir||"ltr"}).html(o),t.o.tabindex&&t.$ed.attr("tabindex",t.o.tabindex),t.$c.is("[placeholder]")&&t.$ed.attr("placeholder",t.$c.attr("placeholder")),t.o.resetCss&&t.$ed.addClass(i+"reset-css"),t.o.autogrow||t.$ta.add(t.$ed).css({height:t.height}),t.semanticCode(),t._ctrl=!1,t.$ed.on("dblclick","img",t.o.imgDblClickHandler).on("keydown",function(e){if(t._composition=229===e.which,e.ctrlKey){t._ctrl=!0;var i=t.keys[String.fromCharCode(e.which).toUpperCase()];try{return t.execCmd(i.fn,i.param),!1}catch(t){}}}).on("keyup",function(e){e.which>=37&&e.which<=40||(!e.ctrlKey||89!==e.which&&90!==e.which?t._ctrl||17===e.which||t._composition||(t.semanticCode(!1,13===e.which),t.$c.trigger("tbwchange")):t.$c.trigger("tbwchange"),setTimeout(function(){t._ctrl=!1},200))}).on("mouseup keydown keyup",function(){t.updateButtonPaneStatus()}).on("focus blur",function(e){t.$c.trigger("tbw"+e.type),"blur"===e.type&&n("."+i+"active-button",t.$btnPane).removeClass(i+"active-button "+i+"active")}).on("cut",function(){t.$c.trigger("tbwchange")}).on("paste",function(i){if(t.o.removeformatPasted){i.preventDefault();try{var o=e.clipboardData.getData("Text");try{t.doc.selection.createRange().pasteHTML(o)}catch(e){t.doc.getSelection().getRangeAt(0).insertNode(t.doc.createTextNode(o))}}catch(e){t.execCmd("insertText",(i.originalEvent||i).clipboardData.getData("text/plain"))}}n.each(t.pasteHandlers,function(t,e){e(i)}),setTimeout(function(){t.o.semantic?t.semanticCode(!1,!0):t.syncCode(),t.$c.trigger("tbwpaste",i)},0)}),t.$ta.on("keyup paste",function(){t.$c.trigger("tbwchange")}),n(t.doc).on("keydown",function(e){if(27===e.which)return t.closeModal(),!1})},buildBtnPane:function(){var t=this,e=t.o.prefix,i=t.$btnPane=n("<div/>",{class:e+"button-pane"});n.each(t.o.btns,function(o,r){try{var a=r.split("btnGrp-");null!=a[1]&&(r=t.o.btnsGrps[a[1]])}catch(t){}n.isArray(r)||(r=[r]);var s=n("<div/>",{class:e+"button-group "+(r.indexOf("fullscreen")>=0?e+"right":"")});n.each(r,function(e,i){try{var n;t.isSupportedBtn(i)&&(n=t.buildBtn(i)),s.append(n)}catch(t){}}),i.append(s)}),t.$box.prepend(i)},buildBtn:function(t){var e=this,i=e.o.prefix,o=e.btnsDef[t],r=o.dropdown,a=e.lang[t]||t,s=n("<button/>",{type:"button",class:i+t+"-button "+(o.class||""),html:e.hasSvg?'<svg><use xlink:href="'+e.svgPath+"#"+i+(o.ico||t).replace(/([A-Z]+)/g,"-$1").toLowerCase()+'"/></svg>':"",title:(o.title||o.text||a)+(o.key?" (Ctrl + "+o.key+")":""),tabindex:-1,mousedown:function(){return r&&!n("."+t+"-"+i+"dropdown",e.$box).is(":hidden")||n("body",e.doc).trigger("mousedown"),!(e.$btnPane.hasClass(i+"disable")&&!n(this).hasClass(i+"active")&&!n(this).hasClass(i+"not-disable"))&&(e.execCmd(!!r&&"dropdown"||o.fn||t,o.param||t,o.forceCss||!1),!1)}});if(r){s.addClass(i+"open-dropdown");var l=i+"dropdown",c=n("<div/>",{class:l+"-"+t+" "+l+" "+i+"fixed-top","data-dropdown":t});n.each(r,function(t,i){e.btnsDef[i]&&e.isSupportedBtn(i)&&c.append(e.buildSubBtn(i))}),e.$box.append(c.hide())}else o.key&&(e.keys[o.key]={fn:o.fn||t,param:o.param||t});return r||(e.tagToButton[(o.tag||t).toLowerCase()]=t),s},buildSubBtn:function(t){var e=this,i=e.o.prefix,o=e.btnsDef[t];return o.key&&(e.keys[o.key]={fn:o.fn||t,param:o.param||t}),e.tagToButton[(o.tag||t).toLowerCase()]=t,n("<button/>",{type:"button",class:i+t+"-dropdown-button"+(o.ico?" "+i+o.ico+"-button":""),html:e.hasSvg?'<svg><use xlink:href="'+e.svgPath+"#"+i+(o.ico||t).replace(/([A-Z]+)/g,"-$1").toLowerCase()+'"/></svg>'+(o.text||o.title||e.lang[t]||t):"",title:o.key?" (Ctrl + "+o.key+")":null,style:o.style||null,mousedown:function(){return n("body",e.doc).trigger("mousedown"),e.execCmd(o.fn||t,o.param||t,o.forceCss||!1),!1}})},isSupportedBtn:function(t){try{return this.btnsDef[t].isSupported()}catch(t){}return!0},buildOverlay:function(){var t=this;return t.$overlay=n("<div/>",{class:t.o.prefix+"overlay"}).css({top:t.$btnPane.outerHeight(),height:t.$ed.outerHeight()+1+"px"}).appendTo(t.$box),t.$overlay},showOverlay:function(){var t=this;n(e).trigger("scroll"),t.$overlay.fadeIn(200),t.$box.addClass(t.o.prefix+"box-blur")},hideOverlay:function(){var t=this;t.$overlay.fadeOut(50),t.$box.removeClass(t.o.prefix+"box-blur")},fixedBtnPaneEvents:function(){var t=this,i=t.o.fixedFullWidth,o=t.$box;t.o.fixedBtnPane&&(t.isFixed=!1,n(e).on("scroll resize",function(){if(o){t.syncCode();var r=n(e).scrollTop(),a=o.offset().top+1,s=t.$btnPane,l=s.outerHeight()-2;r-a>0&&r-a-t.height<0?(t.isFixed||(t.isFixed=!0,s.css({position:"fixed",top:0,left:i?"0":"auto",zIndex:7}),n([t.$ta,t.$ed]).css({marginTop:s.height()})),s.css({width:i?"100%":o.width()-1+"px"}),n("."+t.o.prefix+"fixed-top",o).css({position:i?"fixed":"absolute",top:i?l:l+(r-a)+"px",zIndex:15})):t.isFixed&&(t.isFixed=!1,s.removeAttr("style"),n([t.$ta,t.$ed]).css({marginTop:0}),n("."+t.o.prefix+"fixed-top",o).css({position:"absolute",top:l}))}}))},toggleDisable:function(t){var e=this,i=e.o.prefix;e.disabled=t,t?e.$ta.attr("disabled",!0):e.$ta.removeAttr("disabled"),e.$box.toggleClass(i+"disabled",t),e.$ed.attr("contenteditable",!t)},destroy:function(){var t=this,e=t.o.prefix,i=t.height;t.isTextarea?t.$box.after(t.$ta.css({height:i}).val(t.html()).removeClass(e+"textarea").show()):t.$box.after(t.$ed.css({height:i}).removeClass(e+"editor").removeAttr("contenteditable").html(t.html()).show()),t.$ed.off("dblclick","img"),t.destroyPlugins(),t.$box.remove(),t.$c.removeData("trumbowyg"),n("body").removeClass(e+"body-fullscreen")},empty:function(){this.$ta.val(""),this.syncCode(!0)},toggle:function(){var t=this,e=t.o.prefix;t.semanticCode(!1,!0),setTimeout(function(){t.doc.activeElement.blur(),t.$box.toggleClass(e+"editor-hidden "+e+"editor-visible"),t.$btnPane.toggleClass(e+"disable"),n("."+e+"viewHTML-button",t.$btnPane).toggleClass(e+"active"),t.$box.hasClass(e+"editor-visible")?t.$ta.attr("tabindex",-1):t.$ta.removeAttr("tabindex")},0)},dropdown:function(t){var i=this,o=i.doc,r=i.o.prefix,a=n("[data-dropdown="+t+"]",i.$box),s=n("."+r+t+"-button",i.$btnPane),l=a.is(":hidden");if(n("body",o).trigger("mousedown"),l){var c=s.offset().left;s.addClass(r+"active"),a.css({position:"absolute",top:s.offset().top-i.$btnPane.offset().top+s.outerHeight(),left:i.o.fixedFullWidth&&i.isFixed?c+"px":c-i.$btnPane.offset().left+"px"}).show(),n(e).trigger("scroll"),n("body",o).on("mousedown",function(){n("."+r+"dropdown",o).hide(),n("."+r+"active",o).removeClass(r+"active"),n("body",o).off("mousedown")})}},html:function(t){var e=this;return null!=t?(e.$ta.val(t),e.syncCode(!0),e):e.$ta.val()},syncTextarea:function(){var t=this;t.$ta.val(t.$ed.text().trim().length>0||t.$ed.find("hr,img,embed,input").length>0?t.$ed.html():"")},syncCode:function(t){var e=this;!t&&e.$ed.is(":visible")?e.syncTextarea():e.$ed.html(e.$ta.val()),e.o.autogrow&&(e.height=e.$ed.height(),e.height!==e.$ta.css("height")&&(e.$ta.css({height:e.height}),e.$c.trigger("tbwresize")))},semanticCode:function(t,e){var i=this;if(i.saveRange(),i.syncCode(t),n(i.o.tagsToRemove.join(","),i.$ed).remove(),i.o.semantic){if(i.semanticTag("b","strong"),i.semanticTag("i","em"),i.semanticTag("strike","del"),e){var o=i.o.inlineElementsSelector,r=":not("+o+")";i.$ed.contents().filter(function(){return 3===this.nodeType&&this.nodeValue.trim().length>0}).wrap("<span data-tbw/>");var a=function(t){if(0!==t.length){var e=t.nextUntil(r).andSelf().wrapAll("<p/>").parent(),i=e.nextAll(o).first();e.next("br").remove(),a(i)}};a(i.$ed.children(o).first()),i.semanticTag("div","p",!0),i.$ed.find("p").filter(function(){return(!i.range||this!==i.range.startContainer)&&(0===n(this).text().trim().length&&0===n(this).children().not("br,span").length)}).contents().unwrap(),n("[data-tbw]",i.$ed).contents().unwrap(),i.$ed.find("p:empty").remove()}i.restoreRange(),i.syncTextarea()}},semanticTag:function(t,e,i){n(t,this.$ed).each(function(){var t=n(this);t.wrap("<"+e+"/>"),i&&n.each(t.prop("attributes"),function(){t.parent().attr(this.name,this.value)}),t.contents().unwrap()})},createLink:function(){for(var t,e,i,o=this,r=o.doc.getSelection(),a=r.focusNode;["A","DIV"].indexOf(a.nodeName)<0;)a=a.parentNode;if(a&&"A"===a.nodeName){var s=n(a);t=s.attr("href"),e=s.attr("title"),i=s.attr("target");var l=o.doc.createRange();l.selectNode(a),r.addRange(l)}o.saveRange(),o.openModalInsert(o.lang.createLink,{url:{label:"URL",required:!0,value:t},title:{label:o.lang.title,value:e},text:{label:o.lang.text,value:o.getRangeText()},target:{label:o.lang.target,value:i}},function(t){var e=n(['<a href="',t.url,'">',t.text,"</a>"].join(""));
return t.title.length>0&&e.attr("title",t.title),t.target.length>0&&e.attr("target",t.target),o.range.deleteContents(),o.range.insertNode(e[0]),!0})},unlink:function(){var t=this,e=t.doc.getSelection(),i=e.focusNode;if(e.isCollapsed){for(;["A","DIV"].indexOf(i.nodeName)<0;)i=i.parentNode;if(i&&"A"===i.nodeName){var n=t.doc.createRange();n.selectNode(i),e.addRange(n)}}t.execCmd("unlink",void 0,void 0,!0)},insertImage:function(){var t=this;t.saveRange(),t.openModalInsert(t.lang.insertImage,{url:{label:"URL",required:!0},alt:{label:t.lang.description,value:t.getRangeText()}},function(e){return t.execCmd("insertImage",e.url),n('img[src="'+e.url+'"]:not([alt])',t.$box).attr("alt",e.alt),!0})},fullscreen:function(){var t,i=this,o=i.o.prefix,r=o+"fullscreen";i.$box.toggleClass(r),t=i.$box.hasClass(r),n("body").toggleClass(o+"body-fullscreen",t),n(e).trigger("scroll"),i.$c.trigger("tbw"+(t?"open":"close")+"fullscreen")},execCmd:function(e,i,n,o){var r=this;o=!!o||"","dropdown"!==e&&r.$ed.focus(),r.doc.execCommand("styleWithCSS",!1,n||!1);try{r[e+o](i)}catch(n){try{e(i)}catch(n){"insertHorizontalRule"===e?i=void 0:"formatBlock"!==e||t.userAgent.indexOf("MSIE")===-1&&t.appVersion.indexOf("Trident/")===-1||(i="<"+i+">"),r.doc.execCommand(e,!1,i),r.syncCode(),r.semanticCode(!1,!0)}"dropdown"!==e&&(r.updateButtonPaneStatus(),r.$c.trigger("tbwchange"))}},openModal:function(t,i){var o=this,r=o.o.prefix;if(n("."+r+"modal-box",o.$box).length>0)return!1;o.saveRange(),o.showOverlay(),o.$btnPane.addClass(r+"disable");var a=n("<div/>",{class:r+"modal "+r+"fixed-top"}).css({top:o.$btnPane.height()}).appendTo(o.$box);o.$overlay.one("click",function(){return a.trigger("tbwcancel"),!1});var s=n("<form/>",{action:"",html:i}).on("submit",function(){return a.trigger("tbwconfirm"),!1}).on("reset",function(){return a.trigger("tbwcancel"),!1}),l=n("<div/>",{class:r+"modal-box",html:s}).css({top:"-"+o.$btnPane.outerHeight()+"px",opacity:0}).appendTo(a).animate({top:0,opacity:1},100);return n("<span/>",{text:t,class:r+"modal-title"}).prependTo(l),a.height(l.outerHeight()+10),n("input:first",l).focus(),o.buildModalBtn("submit",l),o.buildModalBtn("reset",l),n(e).trigger("scroll"),a},buildModalBtn:function(t,e){var i=this,o=i.o.prefix;return n("<button/>",{class:o+"modal-button "+o+"modal-"+t,type:t,text:i.lang[t]||t}).appendTo(n("form",e))},closeModal:function(){var t=this,e=t.o.prefix;t.$btnPane.removeClass(e+"disable"),t.$overlay.off();var i=n("."+e+"modal-box",t.$box);i.animate({top:"-"+i.height()},100,function(){i.parent().remove(),t.hideOverlay()}),t.restoreRange()},openModalInsert:function(t,e,i){var o=this,r=o.o.prefix,a=o.lang,s="",l="tbwconfirm";return n.each(e,function(t,e){var i=e.label,n=e.name||t;s+='<label><input type="'+(e.type||"text")+'" name="'+n+'" value="'+(e.value||"").replace(/"/g,"&quot;")+'"><span class="'+r+'input-infos"><span>'+(i?a[i]?a[i]:i:a[t]?a[t]:t)+"</span></span></label>"}),o.openModal(t,s).on(l,function(){var t=n("form",n(this)),r=!0,a={};n.each(e,function(e,i){var s=n('input[name="'+e+'"]',t);a[e]=n.trim(s.val()),i.required&&""===a[e]?(r=!1,o.addErrorOnModalField(s,o.lang.required)):i.pattern&&!i.pattern.test(a[e])&&(r=!1,o.addErrorOnModalField(s,i.patternError))}),r&&(o.restoreRange(),i(a,e)&&(o.syncCode(),o.$c.trigger("tbwchange"),o.closeModal(),n(this).off(l)))}).one("tbwcancel",function(){n(this).off(l),o.closeModal()})},addErrorOnModalField:function(t,e){var i=this.o.prefix,o=t.parent();t.on("change keyup",function(){o.removeClass(i+"input-error")}),o.addClass(i+"input-error").find("input+span").append(n("<span/>",{class:i+"msg-error",text:e}))},saveRange:function(){var t=this,e=t.doc.getSelection();if(t.range=null,e.rangeCount){var i,n=t.range=e.getRangeAt(0),o=t.doc.createRange();o.selectNodeContents(t.$ed[0]),o.setEnd(n.startContainer,n.startOffset),i=(o+"").length,t.metaRange={start:i,end:i+(n+"").length}}},restoreRange:function(){var t,e=this,i=e.metaRange,n=e.range,o=e.doc.getSelection();if(n){if(i&&i.start!==i.end){var r,a=0,s=[e.$ed[0]],l=!1,c=!1;for(t=e.doc.createRange();!c&&(r=s.pop());)if(3===r.nodeType){var u=a+r.length;!l&&i.start>=a&&i.start<=u&&(t.setStart(r,i.start-a),l=!0),l&&i.end>=a&&i.end<=u&&(t.setEnd(r,i.end-a),c=!0),a=u}else for(var d=r.childNodes,h=d.length;h>0;)h-=1,s.push(d[h])}o.removeAllRanges(),o.addRange(t||n)}},getRangeText:function(){return this.range+""},updateButtonPaneStatus:function(){var t=this,e=t.o.prefix,i=t.getTagsRecursive(t.doc.getSelection().focusNode.parentNode),o=e+"active-button "+e+"active";n("."+e+"active-button",t.$btnPane).removeClass(o),n.each(i,function(i,r){var a=t.tagToButton[r.toLowerCase()],s=n("."+e+a+"-button",t.$btnPane);if(s.length>0)s.addClass(o);else try{s=n("."+e+"dropdown ."+e+a+"-dropdown-button",t.$box);var l=s.parent().data("dropdown");n("."+e+l+"-button",t.$box).addClass(o)}catch(t){}})},getTagsRecursive:function(t,e){var i=this;e=e||[];var o=t.tagName;return"DIV"===o?e:("P"===o&&""!==t.style.textAlign&&e.push(t.style.textAlign),n.each(i.tagHandlers,function(n,o){e=e.concat(o(t,i))}),e.push(o),i.getTagsRecursive(t.parentNode,e))},initPlugins:function(){var t=this;t.loadedPlugins=[],n.each(n.trumbowyg.plugins,function(e,i){i.shouldInit&&!i.shouldInit(t)||(i.init(t),i.tagHandler&&t.tagHandlers.push(i.tagHandler),t.loadedPlugins.push(i))})},destroyPlugins:function(){n.each(this.loadedPlugins,function(t,e){e.destroy&&e.destroy()})}}}(navigator,window,document,jQuery);var KenobiSoft=KenobiSoft||{};KenobiSoft.helper=KenobiSoft.helper||function(t){var e=function(t,e){var i="function"==typeof e.onBefore&&"function"==typeof e.onAfter;if(!i)return void console.warn("Invalid initialization for scrollSpy. Make sure to define valid callbacks.");var n=document.documentElement,o=!1,r=function(){return window.pageYOffset||n.scrollTop},a=function(){var i=r();i<t?e.onBefore():e.onAfter(),o=!1},s=function(){window.addEventListener("scroll",function(t){o||(setTimeout(a,50),o=!0)},!1)};s()},i=function(){var t={};return function(e,i,n){n||(n="0"),t[n]&&clearTimeout(t[n]),t[n]=setTimeout(e,i)}}();return{scrollSpy:e,bufferedEvent:i}}(jQuery);var KenobiSoft=KenobiSoft||{};KenobiSoft.manager=KenobiSoft.manager||function(t){var e=function(e){var i="object"==typeof e&&"object"==typeof e.components&&"string"==typeof e.selector&&"string"==typeof e.dataSelector;if(!i)return console.warn("Invalid initialization for initComponents. Make sure to provide a valid args object, containing components, selector and dataSelector"),!1;for(var n=e.components,o=e.selector,r=e.dataSelector,a=t(o),s=0,l=a.length;s<l;s++){var c=a.eq(s),u=c.data(r),d=n.hasOwnProperty(u)&&"function"==typeof n[u];d&&n[u](c)}var h=n.hasOwnProperty("default")&&"function"==typeof n.default;h&&n.default()},i=function(t){e(t)},n=function(t){e(t)};return{initMetafields:i,initWidgets:n}}(jQuery);var KenobiSoft=KenobiSoft||{};KenobiSoft.options=KenobiSoft.options||function(t){var e=[];return{galleries:e}}(jQuery);var KenobiSoft=KenobiSoft||{};KenobiSoft.metafields=KenobiSoft.metafields||{},KenobiSoft.metafields.checkbox=KenobiSoft.metafields.checkbox||function(t){var e=t.find('input[type="checkbox"]'),i=t.find('input[type="hidden"]'),n=1,o=0,r=function(){e.on("change",function(){e.is(":checked")?(i.val(n),e.attr("checked",!0)):(i.val(o),e.attr("checked",!1))}),t.find(".description").on("click",function(t){e.is(":checked")?(i.val(o),e.attr("checked",!1)):(i.val(n),e.attr("checked",!0))})};r()};var KenobiSoft=KenobiSoft||{};KenobiSoft.metafields=KenobiSoft.metafields||{},KenobiSoft.metafields.date=KenobiSoft.metafields.date||function(t){var e=t.find("input"),i=t.data("format"),n=function(){e.datepicker({dateFormat:i})};n()};var KenobiSoft=KenobiSoft||{};KenobiSoft.metafields=KenobiSoft.metafields||{},KenobiSoft.metafields.default=KenobiSoft.metafields.default||function(t){var e=jQuery,i=e(".plugin-view"),n=i.find(".nav-element"),o=i.find(".button-save"),r=i.find(".button-submit-hidden");o.on("click",function(t){t.preventDefault(),r.click()}),n.on("click",function(t){window.location.href=e(this).find("a").attr("href")})};var KenobiSoft=KenobiSoft||{};KenobiSoft.metafields=KenobiSoft.metafields||{},KenobiSoft.metafields.editor=KenobiSoft.metafields.editor||function(t){var e=t.find(".wysiwyg-wrapper"),i=t.find("textarea"),n=t.data("icons-dir"),o=function(){e.trumbowyg({svgPath:n}),e.trumbowyg("html",i.val()),e.on("keyup keydown keypress click",function(){var t=e.html(),n=t.replace(/\//g,"'");i.val(n)}),e.parent().find("button").on("click",function(){var t=e.html(),n=t.replace(/\//g,"'");i.val(n)})};o()};var KenobiSoft=KenobiSoft||{};KenobiSoft.metafields=KenobiSoft.metafields||{},KenobiSoft.metafields.file=KenobiSoft.metafields.file||function(t){var e,i=t.find(".button-open"),n=t.find(".button-add"),o=t.find(".button-remove"),r=t.find("textarea"),a=ECF_Settings,s=function(){n.on("click",function(t){return t.preventDefault(),e?void e.open():(e=wp.media.frames.meta_image_frame=wp.media({title:"Select or upload a file",button:{text:"Use this file"}}),e.on("select",function(){var t=e.state().get("selection").first().toJSON(),n=t.url,s=n.replace(a.site_url,""),l={id:t.id,url:s};r.val(JSON.stringify(l)),o.removeClass("hidden"),i.attr("href",l.url),i.removeClass("hidden")}),void e.open())}),o.on("click",function(t){t.preventDefault(),r.val(""),console.log(i),i.addClass("hidden"),o.addClass("hidden")})};s()};var KenobiSoft=KenobiSoft||{};KenobiSoft.metafields=KenobiSoft.metafields||{},KenobiSoft.metafields.gallery=KenobiSoft.metafields.gallery||function(t){var e,i=jQuery,n=KenobiSoft.options.galleries,o=t.find(".gallery-wrapper"),r=t.find("textarea"),a=t.find(".button-add"),s=t.find(".button-remove"),l=t.find(".gallery-image-wrapper"),c=null,u=ECF_Settings,d=function(){var e=function(){l=t.find(".gallery-image-wrapper"),l.magnificPopup({delegate:".gallery-image-link",tLoading:"Loading image #%curr%...",type:"image",gallery:{enabled:!0}})},i=function(){for(var t=o.find(".gallery-frame"),e=0,i=t.length;e<i;e++){var n=t.eq(e).attr("class");r(n)}},r=function(t){c=new Sly("."+t,{horizontal:1,itemNav:"basic",smart:1,activateOn:"click",mouseDragging:1,touchDragging:1,releaseSwing:1,startAt:0,scrollBy:0,speed:300,elasticBounds:1,dragHandle:1,dynamicHandle:1,clickBar:1},function(){}).init(),n.push({slider:c,id:t}),s()},a=function(){var t=o.find(".gallery-frame");if(0===n.length)return void i();for(var e=0,a=t.length;e<a;e++)n[e].slider.destroy(),t.eq(e).attr("id",n[e].id),r(n[e].id)},s=function(){for(var t=o.find(".gallery-frame"),e=200,i=0,n=t.length;i<n;i++){var r=t.eq(i).find("ul"),a=r.width();a+=e,r.css({width:a+"px"})}};setTimeout(function(){try{i()}catch(t){a()}},100),e()};d();var h=function(t,e){for(var i in t.urls){var n=e.replace(/-\d+x\d+((\.png)|(\.jpg)|(\.gif)|(\.tif))/g,"");if(t.urls[i].url.indexOf(n)!==-1&&!t.checked[i])return t.checked[i]=!0,t.urls[i]}return-1};e=wp.media.frames.meta_image_frame=wp.media({title:"Choose or Upload an Image",button:{text:"Use this image"},multiple:!0}),e.on("select",function(){var t=e.state().get("selection").toJSON(),i=[];for(var n in t){var a=t[n],l=a.url,c=l.replace(u.site_url,"");i.push({id:a.id,url:c})}var h=JSON.stringify(i);r.html(h),o.hide(),o.find(".gallery-frame").empty();var f='<div class="gallery-frame"><ul>';for(var p in i)f+='<li><div class="gallery-image-wrapper"><a class="gallery-image-link" href="'+i[p].url+'"><img src="'+i[p].url+'"/></a></div></li>';f+="</ul></div>",o.append(f),s.removeClass("hidden"),d(),o.fadeIn(300)}),e.on("open",function(){setTimeout(function(){var t=e.state().get("selection"),n=i(".attachments li"),o={urls:JSON.parse(r.val()),checked:[]};for(var a in o.urls)o.checked.push(!1);for(var s=0,l=n.length;s<l;s++){var c=n.eq(s),u=c.find("img").attr("src");if(h(o,u)!==-1&&!c.hasClass("selected")){var d=h(o,u);c.addClass("selected"),t.add(wp.media.attachment(d))}}},500)}),a.click(function(t){t.preventDefault(),e.open()}),s.click(function(t){t.preventDefault(),o.find(".gallery-frame").find("ul").empty(),r.html(""),s.addClass("hidden")})};var KenobiSoft=KenobiSoft||{};KenobiSoft.metafields=KenobiSoft.metafields||{},KenobiSoft.metafields.image=KenobiSoft.metafields.image||function(t){var e,i=(jQuery,t.find(".button-open-image")),n=t.find(".button-add"),o=t.find(".button-remove"),r=t.find("textarea"),a=t.find("img"),s=null,l=ECF_Settings,c=function(){n.on("click",function(t){return t.preventDefault(),e?void e.open():(e=wp.media.frames.meta_image_frame=wp.media({title:"Select or upload an image",button:{text:"Use this image"}}),e.on("select",function(){var t=e.state().get("selection").first().toJSON(),n=t.url,c=n.replace(l.site_url,""),u={id:t.id,url:c};s=u.id,r.val(JSON.stringify(u)),o.removeClass("hidden"),i.attr("href",u.url),a.attr("src",u.url),i.removeClass("hidden"),a.removeClass("hidden")}),void e.open())}),o.on("click",function(t){t.preventDefault(),r.val(""),i.addClass("hidden"),o.addClass("hidden")}),i.magnificPopup({type:"image"})};c()};var KenobiSoft=KenobiSoft||{};KenobiSoft.metafields=KenobiSoft.metafields||{},KenobiSoft.metafields.map=KenobiSoft.metafields.map||function(t){var e=t.data("map-id"),i=document.getElementById(e),n=t.data("marker-dir"),o=t.find(".map-controls"),r=t.find(".button-open-map-settings"),a=t.find(".button-update-map"),s=t.find("textarea"),l=o.find("input.lat"),c=o.find("input.lng"),u=o.find("input.zoom"),d=t.data("lat"),h=t.data("lng"),f=t.data("zoom"),p=[],m=function(){var t=new google.maps.Map(i,{center:{lat:d,lng:h},zoom:f,styles:p,scrollwheel:!1});new google.maps.Marker({position:{lat:d,lng:h},map:t,title:"Selected location",icon:n});google.maps.event.addDomListener(window,"resize",function(){var e=t.getCenter();google.maps.event.trigger(t,"resize"),t.setCenter(e)}),o.find("input").on("keyup keydown keypress click",function(t){var e={lat:parseFloat(l.val()),lng:parseFloat(c.val()),zoom:parseFloat(u.val())};s.html(JSON.stringify(e))}),r.on("click",function(t){t.preventDefault();var e="false"!==r.attr("data-control-opened");o.addClass("active"),e?(o.removeClass("active"),r.attr("data-control-opened",!1)):(o.addClass("active"),r.attr("data-control-opened",!0))}),a.on("click",function(t){t.preventDefault();var e={lat:parseFloat(l.val()),lng:parseFloat(c.val()),zoom:parseInt(u.val())},o=new google.maps.Map(i,{center:{lat:e.lat,lng:e.lng},zoom:e.zoom,styles:p});new google.maps.Marker({position:{lat:e.lat,lng:e.lng},map:o,title:"Selected location",icon:n})})};m()};var KenobiSoft=KenobiSoft||{};KenobiSoft.widgets=KenobiSoft.widgets||{},KenobiSoft.widgets.activity=KenobiSoft.widgets.activity||function(t){var e=jQuery,i=function(){var t=e(".widget-activity-posts-pie-chart").data("chart-data"),i=(e(".widget-activity-videos-pie-chart").data("chart-data"),e(".widget-activity-pages-pie-chart").data("chart-data")),n=parseInt(t.publish),o=parseInt(t.draft),r=parseInt(t.trash),a=n+o+r,s=parseInt(i.publish),l=parseInt(i.draft),c=parseInt(i.trash),u=s+l+c,d=100*n/a,h=100*o/a,f=100*r/a,p=100*s/u,m=100*l/u,g=100*c/u,v={labels:[],series:[]};n>0&&(v.labels.push(d.toFixed(2)+"%"),v.series.push({value:n,className:"chart-publish-posts"})),o>0&&(v.labels.push(h.toFixed(2)+"%"),v.series.push({value:o,className:"chart-draft-posts"})),r>0&&(v.labels.push(f.toFixed(2)+"%"),v.series.push({value:r,className:"chart-trash-posts"}));var y={labels:[],series:[]};s>0&&(y.labels.push(p.toFixed(2)+"%"),y.series.push({value:s,className:"chart-publish-posts"})),l>0&&(y.labels.push(m.toFixed(2)+"%"),y.series.push({value:l,className:"chart-draft-posts"})),c>0&&(y.labels.push(g.toFixed(2)+"%"),y.series.push({value:c,className:"chart-trash-posts"})),new Chartist.Pie(".widget-activity-posts-pie-chart",v,{}),new Chartist.Pie(".widget-activity-pages-pie-chart",y,{})};i()},jQuery(document).ready(function(t){var e=function(){var t=KenobiSoft&&KenobiSoft.manager&&KenobiSoft.helper&&KenobiSoft.metafields&&KenobiSoft.widgets,e=function(){t&&(KenobiSoft.manager.initMetafields({components:KenobiSoft.metafields,selector:".custom-metafield",dataSelector:"metafield"}),KenobiSoft.manager.initWidgets({components:KenobiSoft.widgets,selector:".custom-widget",dataSelector:"widget"}))};return{init:e}}();e.init()});